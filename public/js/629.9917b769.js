(self["webpackChunkactudent_v2"]=self["webpackChunkactudent_v2"]||[]).push([[629],{5640:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});t(4779),t(2471);var l=t(5474),n=t(1102);const o={data(){return{lang:[]}},methods:{fetchLang(e){l.core.get(`get-lang/${e}`,{headers:{Authorization:n.a1}}).then((e=>{const a=e.data;if(0===this.lang.length)this.lang=a;else for(let t in a)this.lang[t]=a[t]})).catch((e=>{console.error("Error:",e)}))}}},r=o},629:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>ve});var l=t(3673),n=t(2323);const o={class:"q-pa-md"},r={class:"text-h6 text-capitalize"},s={class:"row q-mt-md"};function u(e,a,t,u,m,d){const p=(0,l.up)("main-button"),c=(0,l.up)("row-dropdown"),i=(0,l.up)("search-box"),_=(0,l.up)("q-card-section"),g=(0,l.up)("add-parent-form"),f=(0,l.up)("parent-table"),h=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)("div",o,[(0,l.Wm)(h,{class:"my-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)("div",r,(0,n.zw)(e.lang.ortu_title),1),(0,l.Wm)("div",s,[(0,l.Wm)(p,{lang:e.lang,class:"q-mt-sm"},null,8,["lang"]),(0,l.Wm)(c,{lang:e.lang,"vuex-module":"parent",class:"q-mt-sm"},null,8,["lang"]),(0,l.Wm)(i,{label:e.lang.ortu_cari,"vuex-module":"parent",class:"q-mt-sm"},null,8,["label"])])])),_:1}),(0,l.Wm)(g,{lang:e.lang},null,8,["lang"]),(0,l.Wm)(f,{lang:e.lang},null,8,["lang"])])),_:1})])}var m=t(5640),d=t(8880);function p(e,a,t,n,o,r){const s=(0,l.up)("q-icon"),u=(0,l.up)("q-input");return(0,l.wg)(),(0,l.j4)("div",{class:t.rootClass},[(0,l.Wm)(u,{outlined:"","bottom-slots":"",modelValue:e.$store.state[t.vuexModule]["paging"]["search"],"onUpdate:modelValue":a[1]||(a[1]=a=>e.$store.state[t.vuexModule]["paging"]["search"]=a),label:t.label,onKeyup:(0,d.D2)(n.filter,["enter"]),dense:""},{append:(0,l.w5)((()=>[(0,l.Wm)(s,{name:"search",onClick:n.filter,class:"cursor-pointer"},null,8,["onClick"])])),_:1},8,["modelValue","label","onKeyup"])],2)}var c=t(5250);const i={name:"SearchBox",props:{label:{type:String},rootClass:{type:String,default:"col-12 col-md-4"},vuexModule:{type:String,required:!0}},setup(e){const a=(0,c.oR)();let t=(0,l.Fl)((()=>a.state[e.vuexModule]["paging"]["search"]));return(0,l.YP)(t,(()=>a.dispatch(`${e.vuexModule}/onSearchChanged`))),{filter:()=>a.dispatch(`${e.vuexModule}/filter`)}}};var _=t(4842),g=t(4554),f=t(7518),h=t.n(f);i.render=p;const b=i;function w(e,a,t,n,o,r){const s=(0,l.up)("q-select");return(0,l.wg)(),(0,l.j4)("div",{class:t.rootClass,style:{"padding-right":"10px"}},[(0,l.Wm)(s,{outlined:"",modelValue:e.$store.state[t.vuexModule]["paging"]["rows"],"onUpdate:modelValue":[a[1]||(a[1]=a=>e.$store.state[t.vuexModule]["paging"]["rows"]=a),n.showPerPage],options:n.options,dense:"","display-value":`${e.$store.state[t.vuexModule]["paging"]["rows"]} ${t.lang.baris}`},null,8,["modelValue","options","onUpdate:modelValue","display-value"])],2)}h()(i,"components",{QInput:_.Z,QIcon:g.Z});const W={name:"RowDropdown",props:{lang:{type:Object,required:!0},rootClass:{type:String,default:"col-12 col-md-2 offset-md-2"},vuexModule:{type:String,required:!0}},setup(e){const a=(0,c.oR)(),t=[10,25,50,100,250];return{options:t,showPerPage:()=>a.dispatch(`${e.vuexModule}/showPerPage`)}}};var v=t(9675);W.render=w;const x=W;h()(W,"components",{QSelect:v.Z});const V={class:"text-left cursor-pointer"},q={class:"text-left"},k={class:"text-left"},y={class:"text-left"},Z={class:"text-left"},D={class:"text-left"},Q={class:"text-left"},U={class:"text-left"},$={class:"text-left"},C={class:"q-pa-sm"},S={class:"row"},P={class:"col-12 col-md-6"},z={class:"col-12 col-md-2 offset-4"};function A(e,a,t,o,r,s){const u=(0,l.up)("q-checkbox"),m=(0,l.up)("sort-icon"),d=(0,l.up)("q-btn"),p=(0,l.up)("q-btn-group"),c=(0,l.up)("q-markup-table"),i=(0,l.up)("q-scroll-area"),_=(0,l.up)("q-separator"),g=(0,l.up)("q-pagination");return(0,l.wg)(),(0,l.j4)("div",null,[(0,l.Wm)(i,{class:"table-scroll-area"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)("thead",null,[(0,l.Wm)("tr",null,[(0,l.Wm)("th",V,[(0,l.Wm)(u,{modelValue:e.$store.state.parent.checkAll,"onUpdate:modelValue":[a[1]||(a[1]=a=>e.$store.state.parent.checkAll=a),e.selectAll]},null,8,["modelValue","onUpdate:modelValue"])]),(0,l.Wm)("th",{class:"text-left cursor-pointer",onClick:a[2]||(a[2]=a=>e.sortData("parent_family_card"))},[(0,l.Uk)((0,n.zw)(t.lang.ortu_kk)+" ",1),(0,l.Wm)(m)]),(0,l.Wm)("th",{class:"text-left cursor-pointer",onClick:a[3]||(a[3]=a=>e.sortData("parent_father_name"))},[(0,l.Uk)((0,n.zw)(t.lang.ortu_label_ayah)+" ",1),(0,l.Wm)(m)]),(0,l.Wm)("th",{class:"text-left cursor-pointer",onClick:a[4]||(a[4]=a=>e.sortData("parent_mother_name"))},[(0,l.Uk)((0,n.zw)(t.lang.ortu_label_ibu)+" ",1),(0,l.Wm)(m)]),(0,l.Wm)("th",q,(0,n.zw)(t.lang.ortu_label_telp),1),(0,l.Wm)("th",k,(0,n.zw)(t.lang.aksi),1)])]),(0,l.Wm)("tbody",null,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.data,((t,o)=>((0,l.wg)(),(0,l.j4)("tr",{key:o},[(0,l.Wm)("td",y,[(0,l.Wm)(u,{modelValue:e.$store.state.parent.selectedParents,"onUpdate:modelValue":a[5]||(a[5]=a=>e.$store.state.parent.selectedParents=a),val:`${t.parent_id}-${t.user_id}`},null,8,["modelValue","val"])]),(0,l.Wm)("td",Z,(0,n.zw)(t.parent_family_card),1),(0,l.Wm)("td",D,(0,n.zw)(t.parent_father_name),1),(0,l.Wm)("td",Q,(0,n.zw)(t.parent_mother_name),1),(0,l.Wm)("td",U,(0,n.zw)(t.parent_phone_number),1),(0,l.Wm)("td",$,[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{color:"accent",icon:"edit"}),(0,l.Wm)(d,{color:"accent",icon:"delete"})])),_:1})])])))),128))])])),_:1})])),_:1}),(0,l.Wm)(_),(0,l.Wm)("div",C,[(0,l.Wm)("div",S,[(0,l.Wm)("div",P,[(0,l.Wm)("p",null,(0,n.zw)(e.rowRange),1)]),(0,l.Wm)("div",z,[(0,l.Wm)(g,{modelValue:e.$store.state.parent.current,"onUpdate:modelValue":[a[6]||(a[6]=a=>e.$store.state.parent.current=a),e.onPaginationUpdate],max:e.pageLinks.length,input:""},null,8,["modelValue","max","onUpdate:modelValue"])])])])])}var M=t(515),j=t.n(M);function B(e,a,t,n,o,r){const s=(0,l.up)("q-icon");return(0,l.wg)(),(0,l.j4)(s,{name:"sort",class:"text-red",style:{left:"5px"}})}const R={name:"SortIcon"};R.render=B;const F=R;h()(R,"components",{QIcon:g.Z});const I={name:"ParentTable",props:["lang"],components:{SortIcon:F},created(){setTimeout((()=>{this.$store.dispatch("parent/getOrtu")}),500)},methods:j()(j()({},(0,c.nv)("parent",["onPaginationUpdate","sortData"])),(0,c.OI)("parent",["selectAll"])),computed:j()(j()({},(0,c.rn)("parent",{data:e=>e.paging.data,pageLinks:e=>e.paging.pageLinks})),(0,c.Se)("parent",{rowRange:"rowRange"})),setup(){return{}}};var L=t(7704),T=t(481),K=t(6271),O=t(6375),E=t(8240),Y=t(5869),H=t(7300);I.render=A;const G=I;h()(I,"components",{QScrollArea:L.Z,QMarkupTable:T.Z,QCheckbox:K.Z,QBtnGroup:O.Z,QBtn:E.Z,QSeparator:Y.Z,QPagination:H.Z});const J={class:"col-12 col-md-4 q-gutter-xs"};function N(e,a,t,n,o,r){const s=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.j4)("div",J,[(0,l.Wm)(s,{color:"deep-purple",icon:"add",label:t.lang.tambah,onClick:a[1]||(a[1]=a=>e.$store.state.parent.showAddForm=!0)},null,8,["label"]),(0,l.Wm)(s,{color:"negative",icon:"delete",label:t.lang.hapus},null,8,["label"])])}const X={name:"MainButton",props:["lang"],setup(){return{}}};X.render=N;const ee=X;h()(X,"components",{QBtn:E.Z});const ae={class:"text-h6 text-capitalize"};function te(e,a,t,o,r,s){const u=(0,l.up)("q-space"),m=(0,l.up)("q-btn"),d=(0,l.up)("q-card-section"),p=(0,l.up)("q-input"),c=(0,l.up)("error"),i=(0,l.up)("q-tooltip"),_=(0,l.up)("q-radio"),g=(0,l.up)("q-form"),f=(0,l.up)("q-separator"),h=(0,l.up)("q-card-actions"),b=(0,l.up)("q-card"),w=(0,l.up)("q-dialog"),W=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(w,{modelValue:e.$store.state.parent.showAddForm,"onUpdate:modelValue":a[10]||(a[10]=a=>e.$store.state.parent.showAddForm=a)},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{class:"q-pa-sm",style:{width:"700px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"row items-center q-pb-none"},{default:(0,l.w5)((()=>[(0,l.Wm)("div",ae,(0,n.zw)(t.lang.ortu_form_add_title),1),(0,l.Wm)(u),(0,l.wy)((0,l.Wm)(m,{icon:"close",flat:"",round:"",dense:""},null,512),[[W]])])),_:1}),(0,l.Wm)(d,{style:{"max-height":"60vh"},class:"scroll"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{class:"q-gutter-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{outlined:"",label:t.lang.ortu_kk,minlength:"16",maxlength:"16",dense:"",modelValue:o.formData.parent_family_card,"onUpdate:modelValue":a[1]||(a[1]=e=>o.formData.parent_family_card=e)},null,8,["label","modelValue"]),(0,l.Wm)(c,{label:e.error.parent_family_card},null,8,["label"]),(0,l.Wm)(p,{outlined:"",label:t.lang.ortu_label_ayah,dense:"",modelValue:o.formData.parent_father_name,"onUpdate:modelValue":a[3]||(a[3]=e=>o.formData.parent_father_name=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{modelValue:o.formData.user_name,"onUpdate:modelValue":a[2]||(a[2]=e=>o.formData.user_name=e),val:"1"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{anchor:"center left",self:"center right",offset:[10,10]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.lang.ortu_set_acc_name),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["label","modelValue"]),(0,l.Wm)(c,{label:e.error.parent_father_name},null,8,["label"]),(0,l.Wm)(p,{outlined:"",label:t.lang.ortu_label_ibu,dense:"",modelValue:o.formData.parent_mother_name,"onUpdate:modelValue":a[5]||(a[5]=e=>o.formData.parent_mother_name=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{modelValue:o.formData.user_name,"onUpdate:modelValue":a[4]||(a[4]=e=>o.formData.user_name=e),val:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{anchor:"center left",self:"center right",offset:[10,10]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.lang.ortu_set_acc_name),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["label","modelValue"]),(0,l.Wm)(c,{label:e.error.parent_mother_name},null,8,["label"]),(0,l.Wm)(p,{outlined:"",label:t.lang.ortu_label_telp,minlength:"11",maxlength:"13",dense:"",modelValue:o.formData.parent_phone_number,"onUpdate:modelValue":a[6]||(a[6]=e=>o.formData.parent_phone_number=e)},null,8,["label","modelValue"]),(0,l.Wm)(c,{label:e.error.parent_phone_number},null,8,["label"]),(0,l.Wm)(p,{outlined:"",label:t.lang.user_email,dense:"",modelValue:o.formData.user_email,"onUpdate:modelValue":a[7]||(a[7]=e=>o.formData.user_email=e),suffix:`@${o.school.school_domain}`},null,8,["label","modelValue","suffix"]),(0,l.Wm)(c,{label:e.error.user_email},null,8,["label"]),(0,l.Wm)(p,{outlined:"",label:t.lang.user_pass,dense:"",modelValue:o.formData.user_password,"onUpdate:modelValue":a[8]||(a[8]=e=>o.formData.user_password=e),type:"password"},null,8,["label","modelValue"]),(0,l.Wm)(c,{label:e.error.user_password},null,8,["label"]),(0,l.Wm)(p,{outlined:"",label:t.lang.user_pass_confirm,dense:"",modelValue:o.formData.user_password_confirm,"onUpdate:modelValue":a[9]||(a[9]=e=>o.formData.user_password_confirm=e),type:"password"},null,8,["label","modelValue"]),(0,l.Wm)(c,{label:e.error.user_password_confirm},null,8,["label"])])),_:1})])),_:1}),(0,l.Wm)(f),(0,l.Wm)(h,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(m,{flat:"",label:t.lang.tutup,color:"negative"},null,8,["label"]),[[W]]),(0,l.Wm)(m,{label:t.lang.simpan,disable:e.disableSaveButton,onClick:o.save,color:"primary",padding:"8px 20px"},null,8,["label","disable","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}var le=t(1959),ne=t(1649);const oe={class:"text-negative",style:{"margin-bottom":"30px"}};function re(e,a,t,o,r,s){return(0,l.wg)(),(0,l.j4)("small",oe,(0,n.zw)(t.label),1)}const se={name:"Error",props:["label"]};se.render=re;const ue=se,me={name:"AddParentForm",props:["lang"],components:{Error:ue},computed:j()({},(0,c.rn)("parent",{error:e=>e.error,disableSaveButton:e=>e.helper.disableSaveButton})),setup(e){const a=(0,c.oR)();let t=(0,le.iH)({parent_family_card:"",parent_father_name:"",parent_mother_name:"",parent_phone_number:"",user_email:"",user_password:"",user_password_confirm:"",user_name:"1"});(0,l.bv)(ne.Ku);const n=()=>{a.dispatch("parent/save",{data:t.value,lang:e.lang,edit:!1,id:null})};let o=(0,l.Fl)((()=>a.state.parent.saveStatus));return(0,l.YP)(o,(()=>{200===o.value&&(t.value={parent_family_card:"",parent_father_name:"",parent_mother_name:"",parent_phone_number:"",user_email:"",user_password:"",user_password_confirm:"",user_name:"1"})})),{formData:t,school:ne.f$,save:n}}};var de=t(6778),pe=t(151),ce=t(5589),ie=t(2025),_e=t(5269),ge=t(7991),fe=t(8870),he=t(9367),be=t(677);me.render=te;const we=me;h()(me,"components",{QDialog:de.Z,QCard:pe.Z,QCardSection:ce.Z,QSpace:ie.Z,QBtn:E.Z,QForm:_e.Z,QInput:_.Z,QRadio:ge.Z,QTooltip:fe.Z,QSeparator:Y.Z,QCardActions:he.Z}),h()(me,"directives",{ClosePopup:be.Z});const We={name:"ParentMain",mixins:[m.Z],components:{ParentTable:G,SearchBox:b,MainButton:ee,RowDropdown:x,AddParentForm:we},data(){return{}},mounted(){setTimeout((()=>{this.fetchLang("Admin"),this.fetchLang("AdminOrtu"),this.fetchLang("AdminUser")}),500)},setup(){return{}}};We.render=u;const ve=We;h()(We,"components",{QCard:pe.Z,QCardSection:ce.Z})}}]);