import{_ as C,o as n,k as u,g as t,f as e,m as $,p as c,t as o,d as p,i as P,n as q,v as k,b3 as I,b4 as V,b5 as J,b0 as i,b as N,ah as z,b6 as T,b7 as Q,a9 as A,M as D,N as w,b8 as g,O as _,b9 as R,ac as M,J as B,b1 as j,b2 as F,ba as O,u as G,a as K,c as H,L as U,r as W,s as X,bb as Y,bc as Z,bd as ee,aS as te,ag as y}from"./index.02537ee7.js";const oe={class:"row"},se={class:"col-9 title"},ne={key:0,class:"col-3 text-center number"},ae={key:1,class:"col-3 text-center icon"},le={__name:"RecapCard",props:{title:String,number:{type:[Number,String],required:!1},color:String,icon:{type:[String],default:null,required:!1}},setup(l){return(a,r)=>(n(),u(k,{class:q(`bg-${l.color}`)},{default:t(()=>[e($,null,{default:t(()=>[c("div",oe,[c("div",se,o(l.title),1),l.icon===null?(n(),p("div",ne,o(l.number),1)):(n(),p("div",ae,[e(P,{name:l.icon,style:{"margin-top":"-5px"}},null,8,["name"])]))])]),_:1})]),_:1},8,["class"]))}};var x=C(le,[["__scopeId","data-v-ad06e5e6"]]);const ce={class:"text-h6 text-capitalize q-mb-md"},re={class:"row q-mb-md q-col-gutter-sm"},de={class:"col-12 col-md-4"},_e={class:"col-12 col-md-4"},ue={class:"col-12 col-md-4"},ie={__name:"PresenceRecap",setup(l){const a=I(),r=V();a.getPresenceInfo();const b=()=>r.push("/student/presence"),s=setInterval(a.getPresenceInfo,15e3);J(()=>clearInterval(s));const m=d=>({0:"not_interested",1:"verified",2:"error_outline",3:"health_and_safety",4:"done",5:"warning"})[d],S=d=>({0:"red",1:"green",2:"orange",3:"grey-8",4:"teal",5:"teal-8"})[d];return(d,v)=>(n(),u(k,{class:"q-mb-md cursor-pointer",onClick:b},{default:t(()=>[e($,null,{default:t(()=>[c("div",ce,o(d.$t("home_presence_recap")),1),c("div",re,[c("div",de,[e(x,{title:i(a).presenceInfo.message,icon:m(i(a).presenceInfo.status),color:S(i(a).presenceInfo.status)},null,8,["title","icon","color"])]),c("div",_e,[e(x,{title:d.$t("home_monthly_percentage"),number:i(a).presenceInfo.presence.monthlyPercentage,color:"info"},null,8,["title","number"])]),c("div",ue,[e(x,{title:d.$t("home_period_percentage"),number:i(a).presenceInfo.presence.periodPercentage,color:"cyan"},null,8,["title","number"])])])]),_:1})]),_:1}))}};const pe=l=>(j("data-v-6ecee30b"),l=l(),F(),l),me={class:"text-h6 text-capitalize q-mb-md"},he=pe(()=>c("br",null,null,-1)),fe={key:1},ge={__name:"TodaySchedule",setup(l){const a=I();return a.getTodaySchedule(),(r,b)=>r.$q.cookies.get(i(N).userType)==="3"?(n(),u(k,{key:0,class:"q-mb-md"},{default:t(()=>[e($,null,{default:t(()=>[c("div",me,o(r.$t("dashboard_today_schedule")),1),i(a).todaySchedule.length>0?(n(),u(z,{key:0,bordered:"",separator:""},{default:t(()=>[(n(!0),p(T,null,Q(i(a).todaySchedule,(s,m)=>A((n(),u(D,{clickable:"",key:m},{default:t(()=>[s.lesson_code!=="REST"?(n(),u(w,{key:0},{default:t(()=>[e(g,{class:"mobile-hide"},{default:t(()=>[_(o(s.lesson_name)+" ("+o(s.teacher)+")",1)]),_:2},1024),e(g,{class:"mobile-only"},{default:t(()=>[_(o(s.lesson_name)+" ",1),he,_(" ("+o(s.teacher)+")",1)]),_:2},1024),e(g,{caption:""},{default:t(()=>[_(o(s.room_name)+" - "+o(s.duration)+" JP ",1)]),_:2},1024)]),_:2},1024)):(n(),u(w,{key:1},{default:t(()=>[e(g,null,{default:t(()=>[_(o(s.lesson_name),1)]),_:2},1024),e(g,{caption:""},{default:t(()=>[_(o(s.duration)+" "+o(r.$t("jadwal_menit")),1)]),_:2},1024)]),_:2},1024)),e(w,{side:"",center:""},{default:t(()=>[e(R,{color:"teal",label:`${s.schedule_start} - ${s.schedule_end}`},null,8,["label"])]),_:2},1024)]),_:2},1024)),[[M]])),128))]),_:1})):(n(),p("p",fe,o(r.$t("home_no_schedule")),1))]),_:1})]),_:1})):B("",!0)}};var be=C(ge,[["__scopeId","data-v-6ecee30b"]]);const ve={class:"text-h6 text-capitalize q-mb-md"},ye=c("br",null,null,-1),$e={key:1},ke={__name:"HomeworkInfo",setup(l){const a=I();return a.getHomework(),(r,b)=>r.$q.cookies.get(i(N).userType)==="3"?(n(),u(k,{key:0,class:"q-mb-md"},{default:t(()=>[e($,null,{default:t(()=>[c("div",ve,o(r.$t("home_tugas_rumah")),1),i(a).homework.length>0?(n(),u(z,{key:0,bordered:"",separator:""},{default:t(()=>[(n(!0),p(T,null,Q(i(a).homework,(s,m)=>A((n(),u(D,{clickable:"",key:m},{default:t(()=>[e(w,null,{default:t(()=>[e(g,{class:"mobile-hide"},{default:t(()=>[_(o(s.homework_title)+" ("+o(s.lesson_name)+")",1)]),_:2},1024),e(g,{class:"mobile-only"},{default:t(()=>[_(o(s.homework_title)+" ",1),ye,_(" ("+o(s.lesson_name)+")",1)]),_:2},1024),e(g,{caption:""},{default:t(()=>[_(o(s.homework_description),1)]),_:2},1024)]),_:2},1024),e(w,{side:"",center:""},{default:t(()=>[e(R,{class:"mobile-hide",color:"negative",label:s.due_date},null,8,["label"]),e(R,{class:"mobile-only",color:"teal",label:s.due_date_short},null,8,["label"])]),_:2},1024)]),_:2},1024)),[[M]])),128))]),_:1})):(n(),p("p",$e,o(r.$t("home_no_homework")),1))]),_:1})]),_:1})):B("",!0)}},Se={class:"text-h6 text-capitalize q-mb-md"},we={key:0,class:"row"},Ie={class:"text-h6"},xe={class:"text-subtitle2 text-grey-8"},Pe={class:"text-textbody2 text-grey-8"},qe=["innerHTML"],Re={key:1},Ce={__name:"RecentPost",setup(l){const a=I(),r=O(),b=G(),s=K(),m=V();a.getPost(3);const S=H(()=>s.screen.lt.md?"":"q-pa-md"),d=H(()=>b.state.data),v=h=>{s.screen.lt.md?m.push(`/post/view/${h}`):r.getDetail(h,!0)};return(h,L)=>(n(),u(k,{class:"q-pa-md"},{default:t(()=>[c("div",Se,o(h.$t("home_recent_post")),1),d.value.length>0?(n(),p("div",we,[(n(!0),p(T,null,Q(d.value,(f,E)=>(n(),p("div",{class:q(["col-12 col-md-4",S.value]),key:E},[e(k,{class:"q-mb-md cursor-pointer",onClick:Le=>v(f.timeline_id)},{default:t(()=>[e(U,{src:f.featured_image_path,style:{"max-height":"200px"},fit:"cover"},null,8,["src"]),e($,null,{default:t(()=>[c("div",Ie,o(f.timeline_title),1),c("div",xe,[e(P,{name:"person_outline",style:{"margin-top":"-5px","margin-right":"5px"}}),_(" "+o(f.author),1)]),c("div",Pe,[e(P,{name:"event",style:{"margin-top":"-5px","margin-right":"6px"}}),_(o(f.post_date),1)])]),_:2},1024),e($,{class:"q-pt-none"},{default:t(()=>[c("p",{innerHTML:f.excerpt},null,8,qe)]),_:2},1024)]),_:2},1032,["onClick"])],2))),128))])):(n(),p("p",Re,o(h.$t("home_no_recent_post")),1)),d.value.length>0?(n(),u(W,{key:2,align:"center"},{default:t(()=>[e(X,{label:h.$t("home_view_more"),unelevated:"",class:q(i(Y)),style:{padding:"10px !important"},to:"/student/post"},null,8,["label","class"])]),_:1})):B("",!0)]),_:1}))}},Te={name:"StudentIndex",components:{PresenceRecap:ie,TodaySchedule:be,HomeworkInfo:ke,RecentAgenda:Z,RecentPost:Ce,ViewPost:ee},beforeRouteEnter(l,a){a.fullPath==="/login"&&window.location.reload()},setup(){te().updateDb()}},Qe={class:"q-pa-md"};function Be(l,a,r,b,s,m){const S=y("PresenceRecap"),d=y("TodaySchedule"),v=y("HomeworkInfo"),h=y("RecentAgenda"),L=y("RecentPost"),f=y("ViewPost");return n(),p("div",Qe,[e(S),e(d),e(v),e(h,{url:"/student/agenda"}),e(L),e(f)])}var Ve=C(Te,[["render",Be]]);export{Ve as default};
