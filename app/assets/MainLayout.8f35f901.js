import{y as ee,c as u,D as Q,U as me,Y as ae,Z as P,$ as Te,C as _,w as h,S as Be,a0 as Je,a1 as Ke,E as Se,a2 as Xe,z as Ye,a3 as Ze,B as Ge,a4 as ea,a5 as aa,a6 as ta,a7 as de,a8 as we,F as Z,a9 as R,aa as te,ab as $e,ac as la,_ as N,ad as be,o as w,k as C,g as d,f as l,M as E,i as Qe,N as J,t as T,L as he,a as Le,ae as na,af as oa,b as j,ag as G,ah as H,ai as Me,aj as ve,J as I,d as fe,ak as ra,al as sa,am as ia,p as z,an as ua,ao as ca,ap as da,aq as va,ar as fa,n as ma,s as qe,as as ba,q as ha,at as ga}from"./index.31ac1f73.js";import{Q as pa}from"./QImg.35d40952.js";import{Q as ka,a as ya}from"./QLayout.9fab299c.js";import{Q as _a}from"./QBanner.94b21d66.js";var wa=ee({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:c}){const n=u(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>Q("div",{class:n.value},me(c.default))}}),$a=ee({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:c}){const n=u(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>Q("div",{class:n.value,role:"toolbar"},me(c.default))}}),qa=ee({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:c,emit:n}){const{proxy:{$q:r}}=Se(),o=ae(Te,P);if(o===P)return console.error("QHeader needs to be child of QLayout"),P;const v=_(parseInt(e.heightHint,10)),g=_(!0),m=u(()=>e.reveal===!0||o.view.value.indexOf("H")>-1||r.platform.is.ios&&o.isContainer.value===!0),V=u(()=>{if(e.modelValue!==!0)return 0;if(m.value===!0)return g.value===!0?v.value:0;const s=v.value-o.scroll.value.position;return s>0?s:0}),A=u(()=>e.modelValue!==!0||m.value===!0&&g.value!==!0),t=u(()=>e.modelValue===!0&&A.value===!0&&e.reveal===!0),F=u(()=>"q-header q-layout__section--marginal "+(m.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(A.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),B=u(()=>{const s=o.rows.value.top,q={};return s[0]==="l"&&o.left.space===!0&&(q[r.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),s[2]==="r"&&o.right.space===!0&&(q[r.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),q});function p(s,q){o.update("header",s,q)}function b(s,q){s.value!==q&&(s.value=q)}function O({height:s}){b(v,s),p("size",s)}function k(s){t.value===!0&&b(g,!0),n("focusin",s)}h(()=>e.modelValue,s=>{p("space",s),b(g,!0),o.animate()}),h(V,s=>{p("offset",s)}),h(()=>e.reveal,s=>{s===!1&&b(g,e.modelValue)}),h(g,s=>{o.animate(),n("reveal",s)}),h(o.scroll,s=>{e.reveal===!0&&b(g,s.direction==="up"||s.position<=e.revealOffset||s.position-s.inflectionPoint<100)});const f={};return o.instances.header=f,e.modelValue===!0&&p("size",v.value),p("space",e.modelValue),p("offset",V.value),Be(()=>{o.instances.header===f&&(o.instances.header=void 0,p("size",0),p("offset",0),p("space",!1))}),()=>{const s=Je(c.default,[]);return e.elevated===!0&&s.push(Q("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),s.push(Q(Ke,{debounce:0,onResize:O})),Q("header",{class:F.value,style:B.value,onFocusin:k},s)}}});const Ce=150;var Ca=ee({name:"QDrawer",inheritAttrs:!1,props:{...Xe,...Ye,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ze,"onLayout","miniState"],setup(e,{slots:c,emit:n,attrs:r}){const o=Se(),{proxy:{$q:v}}=o,g=Ge(e,v),{preventBodyScroll:m}=la(),{registerTimeout:V,removeTimeout:A}=ea(),t=ae(Te,P);if(t===P)return console.error("QDrawer needs to be child of QLayout"),P;let F,B=null,p;const b=_(e.behavior==="mobile"||e.behavior!=="desktop"&&t.totalWidth.value<=e.breakpoint),O=u(()=>e.mini===!0&&b.value!==!0),k=u(()=>O.value===!0?e.miniWidth:e.width),f=_(e.showIfAbove===!0&&b.value===!1?!0:e.modelValue===!0),s=u(()=>e.persistent!==!0&&(b.value===!0||Oe.value===!0));function q(a,i){if(Ie(),a!==!1&&t.animate(),$(0),b.value===!0){const y=t.instances[X.value];y!==void 0&&y.belowBreakpoint===!0&&y.hide(!1),L(1),t.isContainer.value!==!0&&m(!0)}else L(0),a!==!1&&ie(!1);V(()=>{a!==!1&&ie(!0),i!==!0&&n("show",a)},Ce)}function ge(a,i){Ve(),a!==!1&&t.animate(),L(0),$(D.value*k.value),ue(),i!==!0?V(()=>{n("hide",a)},Ce):A()}const{show:le,hide:x}=aa({showing:f,hideOnRouteChange:s,handleShow:q,handleHide:ge}),{addToHistory:Ie,removeFromHistory:Ve}=ta(f,x,s),K={belowBreakpoint:b,hide:x},S=u(()=>e.side==="right"),D=u(()=>(v.lang.rtl===!0?-1:1)*(S.value===!0?1:-1)),pe=_(0),W=_(!1),ne=_(!1),ke=_(k.value*D.value),X=u(()=>S.value===!0?"left":"right"),oe=u(()=>f.value===!0&&b.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:k.value:0),re=u(()=>e.overlay===!0||e.miniToOverlay===!0||t.view.value.indexOf(S.value?"R":"L")>-1||v.platform.is.ios===!0&&t.isContainer.value===!0),U=u(()=>e.overlay===!1&&f.value===!0&&b.value===!1),Oe=u(()=>e.overlay===!0&&f.value===!0&&b.value===!1),ze=u(()=>"fullscreen q-drawer__backdrop"+(f.value===!1&&W.value===!1?" hidden":"")),Ae=u(()=>({backgroundColor:`rgba(0,0,0,${pe.value*.4})`})),ye=u(()=>S.value===!0?t.rows.value.top[2]==="r":t.rows.value.top[0]==="l"),De=u(()=>S.value===!0?t.rows.value.bottom[2]==="r":t.rows.value.bottom[0]==="l"),We=u(()=>{const a={};return t.header.space===!0&&ye.value===!1&&(re.value===!0?a.top=`${t.header.offset}px`:t.header.space===!0&&(a.top=`${t.header.size}px`)),t.footer.space===!0&&De.value===!1&&(re.value===!0?a.bottom=`${t.footer.offset}px`:t.footer.space===!0&&(a.bottom=`${t.footer.size}px`)),a}),He=u(()=>{const a={width:`${k.value}px`,transform:`translateX(${ke.value}px)`};return b.value===!0?a:Object.assign(a,We.value)}),Pe=u(()=>"q-drawer__content fit "+(t.isContainer.value!==!0?"scroll":"overflow-auto")),Ne=u(()=>`q-drawer q-drawer--${e.side}`+(ne.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(g.value===!0?" q-drawer--dark q-dark":"")+(W.value===!0?" no-transition":f.value===!0?"":" q-layout--prevent-focus")+(b.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${O.value===!0?"mini":"standard"}`+(re.value===!0||U.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(ye.value===!0?" q-drawer--top-padding":""))),Fe=u(()=>{const a=v.lang.rtl===!0?e.side:X.value;return[[de,Re,void 0,{[a]:!0,mouse:!0}]]}),xe=u(()=>{const a=v.lang.rtl===!0?X.value:e.side;return[[de,_e,void 0,{[a]:!0,mouse:!0}]]}),Ue=u(()=>{const a=v.lang.rtl===!0?X.value:e.side;return[[de,_e,void 0,{[a]:!0,mouse:!0,mouseAllDir:!0}]]});function se(){Ee(b,e.behavior==="mobile"||e.behavior!=="desktop"&&t.totalWidth.value<=e.breakpoint)}h(b,a=>{a===!0?(F=f.value,f.value===!0&&x(!1)):e.overlay===!1&&e.behavior!=="mobile"&&F!==!1&&(f.value===!0?($(0),L(0),ue()):le(!1))}),h(()=>e.side,(a,i)=>{t.instances[i]===K&&(t.instances[i]=void 0,t[i].space=!1,t[i].offset=0),t.instances[a]=K,t[a].size=k.value,t[a].space=U.value,t[a].offset=oe.value}),h(t.totalWidth,()=>{(t.isContainer.value===!0||document.qScrollPrevented!==!0)&&se()}),h(()=>e.behavior+e.breakpoint,se),h(t.isContainer,a=>{f.value===!0&&m(a!==!0),a===!0&&se()}),h(t.scrollbarWidth,()=>{$(f.value===!0?0:void 0)}),h(oe,a=>{M("offset",a)}),h(U,a=>{n("onLayout",a),M("space",a)}),h(S,()=>{$()}),h(k,a=>{$(),ce(e.miniToOverlay,a)}),h(()=>e.miniToOverlay,a=>{ce(a,k.value)}),h(()=>v.lang.rtl,()=>{$()}),h(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(je(),t.animate())}),h(O,a=>{n("miniState",a)});function $(a){a===void 0?we(()=>{a=f.value===!0?0:k.value,$(D.value*a)}):(t.isContainer.value===!0&&S.value===!0&&(b.value===!0||Math.abs(a)===k.value)&&(a+=D.value*t.scrollbarWidth.value),ke.value=a)}function L(a){pe.value=a}function ie(a){const i=a===!0?"remove":t.isContainer.value!==!0?"add":"";i!==""&&document.body.classList[i]("q-body--drawer-toggle")}function je(){B!==null&&clearTimeout(B),o.proxy&&o.proxy.$el&&o.proxy.$el.classList.add("q-drawer--mini-animate"),ne.value=!0,B=setTimeout(()=>{B=null,ne.value=!1,o&&o.proxy&&o.proxy.$el&&o.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Re(a){if(f.value!==!1)return;const i=k.value,y=Z(a.distance.x,0,i);if(a.isFinal===!0){y>=Math.min(75,i)===!0?le():(t.animate(),L(0),$(D.value*i)),W.value=!1;return}$((v.lang.rtl===!0?S.value!==!0:S.value)?Math.max(i-y,0):Math.min(0,y-i)),L(Z(y/i,0,1)),a.isFirst===!0&&(W.value=!0)}function _e(a){if(f.value!==!0)return;const i=k.value,y=a.direction===e.side,Y=(v.lang.rtl===!0?y!==!0:y)?Z(a.distance.x,0,i):0;if(a.isFinal===!0){Math.abs(Y)<Math.min(75,i)===!0?(t.animate(),L(1),$(0)):x(),W.value=!1;return}$(D.value*Y),L(Z(1-Y/i,0,1)),a.isFirst===!0&&(W.value=!0)}function ue(){m(!1),ie(!0)}function M(a,i){t.update(e.side,a,i)}function Ee(a,i){a.value!==i&&(a.value=i)}function ce(a,i){M("size",a===!0?e.miniWidth:i)}return t.instances[e.side]=K,ce(e.miniToOverlay,k.value),M("space",U.value),M("offset",oe.value),e.showIfAbove===!0&&e.modelValue!==!0&&f.value===!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",!0),R(()=>{n("onLayout",U.value),n("miniState",O.value),F=e.showIfAbove===!0;const a=()=>{(f.value===!0?q:ge)(!1,!0)};if(t.totalWidth.value!==0){we(a);return}p=h(t.totalWidth,()=>{p(),p=void 0,f.value===!1&&e.showIfAbove===!0&&b.value===!1?le(!1):a()})}),Be(()=>{p!==void 0&&p(),B!==null&&(clearTimeout(B),B=null),f.value===!0&&ue(),t.instances[e.side]===K&&(t.instances[e.side]=void 0,M("size",0),M("offset",0),M("space",!1))}),()=>{const a=[];b.value===!0&&(e.noSwipeOpen===!1&&a.push(te(Q("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Fe.value)),a.push($e("div",{ref:"backdrop",class:ze.value,style:Ae.value,"aria-hidden":"true",onClick:x},void 0,"backdrop",e.noSwipeBackdrop!==!0&&f.value===!0,()=>Ue.value)));const i=O.value===!0&&c.mini!==void 0,y=[Q("div",{...r,key:""+i,class:[Pe.value,r.class]},i===!0?c.mini():me(c.default))];return e.elevated===!0&&f.value===!0&&y.push(Q("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push($e("aside",{ref:"content",class:Ne.value,style:He.value},y,"contentclose",e.noSwipeClose!==!0&&b.value===!0,()=>xe.value)),Q("div",{class:"q-drawer-container"},a)}}});const Ta={props:["link","icon","label"],setup(){return{activeClass:ae("activeClass")}}};function Ba(e,c,n,r,o,v){return te((w(),C(he,{"active-class":r.activeClass,clickable:"",to:n.link},{default:d(()=>[l(E,{avatar:""},{default:d(()=>[l(Qe,{name:n.icon},null,8,["name"])]),_:1}),l(E,null,{default:d(()=>[J(T(n.label),1)]),_:1})]),_:1},8,["active-class","to"])),[[be]])}var Sa=N(Ta,[["render",Ba]]);const Qa={props:["link","label"],setup(){return{activeClass:ae("activeClass")}}};function La(e,c,n,r,o,v){return te((w(),C(he,{"active-class":r.activeClass,clickable:"","inset-level":1,to:n.link},{default:d(()=>[l(E,null,{default:d(()=>[J(T(n.label),1)]),_:1})]),_:1},8,["active-class","to"])),[[be]])}var Ma=N(Qa,[["render",La]]);const Ia={name:"AppMenu",components:{MenuItem:Sa,SubmenuItem:Ma},setup(){const e=Le(),c=na(),n=_("");oa("activeClass",n),_([]);const r=e.cookies.get(j.userType)==="1"?"/home":"/teacher/home";function o(){G.value==="dark"?n.value="bg-blue-grey-8 text-grey-3":n.value="bg-teal-1 text-grey-8"}h(G,o),c.checkHomeroomTeacher();const v=localStorage.getItem("grade_id");R(()=>o());const g=e.cookies.get(j.userType)==="1"?"/app-settings":"/teacher/app-settings";return{isHomeroomTeacher:u(()=>c.isHomeroomTeacher),dashboardLink:r,activeClass:n,conf:j,gradeId:v,appSettingsLink:g}}},Va={key:1},Oa={key:3};function za(e,c,n,r,o,v){const g=H("menu-item"),m=H("submenu-item");return w(),C(ra,{class:"menu-list",style:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},{default:d(()=>[l(Me,{padding:""},{default:d(()=>[l(g,{icon:"o_home",label:e.$t("menu_dashboard"),link:r.dashboardLink},null,8,["label","link"]),e.$q.cookies.get(r.conf.userType)==="1"?(w(),C(ve,{key:0,"expand-separator":"",icon:"o_inventory_2",label:"Data"},{default:d(()=>[l(m,{label:e.$t("menu_parent"),link:"/parent"},null,8,["label"]),l(m,{label:e.$t("menu_siswa"),link:"/student"},null,8,["label"]),l(m,{label:e.$t("menu_pegawai"),link:"/employee"},null,8,["label"]),l(m,{label:e.$t("menu_kelas"),link:"/class"},null,8,["label"]),l(m,{label:e.$t("menu_ruang"),link:"/rooms"},null,8,["label"]),l(m,{label:e.$t("menu_mapel"),link:"/lesson"},null,8,["label"])]),_:1})):I("",!0),e.$q.cookies.get(r.conf.userType)==="1"?(w(),fe("div",Va,[l(g,{icon:"list",label:e.$t("menu_jadwal"),link:"/schedules"},null,8,["label"]),l(g,{icon:"task_alt",label:e.$t("menu_kehadiran"),link:"/presence"},null,8,["label"]),l(g,{icon:"today",label:e.$t("menu_agenda"),link:"/agenda"},null,8,["label"])])):I("",!0),e.$q.cookies.get(r.conf.userType)==="2"?(w(),C(g,{key:2,icon:"o_book",label:e.$t("menu_jadwal_guru"),link:"/teacher/presence"},null,8,["label"])):I("",!0),e.$q.cookies.get(r.conf.userType)==="2"||e.$q.cookies.get(r.conf.userType)==="0"?(w(),fe("div",Oa,[l(g,{icon:"today",label:e.$t("menu_agenda"),link:"/teacher/agenda"},null,8,["label"])])):I("",!0),e.$q.cookies.get(r.conf.userType)==="2"&&r.isHomeroomTeacher?(w(),C(ve,{key:4,"expand-separator":"",icon:"o_summarize",label:e.$t("laporan")},{default:d(()=>[l(m,{label:e.$t("absensi_laporan_harian"),link:"/teacher/daily-report"},null,8,["label"]),l(m,{label:e.$t("absensi_rekap_bulanan"),link:`/teacher/monthly-summary/${r.gradeId}`},null,8,["label","link"]),l(m,{label:e.$t("absensi_rekap_semester"),link:`/teacher/period-summary/${r.gradeId}`},null,8,["label","link"])]),_:1},8,["label"])):I("",!0),l(ve,{"expand-separator":"",icon:"o_settings",label:e.$t("menu_pengaturan")},{default:d(()=>[e.$q.cookies.get(r.conf.userType)==="1"?(w(),C(m,{key:0,label:e.$t("menu_pengguna"),link:"/users"},null,8,["label"])):I("",!0),l(m,{label:e.$t("menu_aplikasi"),link:r.appSettingsLink},null,8,["label","link"]),e.$q.cookies.get(r.conf.userType)==="1"?(w(),C(m,{key:1,label:e.$t("app_report_title"),link:"/report-settings"},null,8,["label"])):I("",!0)]),_:1},8,["label"])]),_:1})]),_:1})}var Aa=N(Ia,[["render",za]]);const Da={name:"SubscriptionWarning",setup(){const e=_({});return R(()=>{sa.get("get-subscription-warning",{headers:{Authorization:ia}}).then(c=>{e.value=c.data}).catch(c=>console.log(c))}),{subs:e}}},Wa={key:0,class:"q-px-md q-pt-md q-gutter-sm"},Ha={class:"q-mt-md"};function Pa(e,c,n,r,o,v){return r.subs.left<=7?(w(),fe("div",Wa,[l(_a,{rounded:"",dense:"","inline-actions":"",class:"bg-negative text-white"},{default:d(()=>[z("p",Ha,[z("strong",null,T(e.$t("peringatan")),1),J(" "+T(r.subs.text)+" "+T(r.subs.date)+". ",1)])]),_:1})])):I("",!0)}var Na=N(Da,[["render",Pa]]);const Fa={props:["link","icon","label"],setup(){}};function xa(e,c,n,r,o,v){return te((w(),C(he,{clickable:"",class:"q-pr-xl",to:n.link},{default:d(()=>[l(E,{avatar:""},{default:d(()=>[l(Qe,{name:n.icon},null,8,["name"])]),_:1}),l(E,null,{default:d(()=>[J(T(n.label),1)]),_:1})]),_:1},8,["to"])),[[be],[ua]])}var Ua=N(Fa,[["render",xa]]);const ja=ca({name:"MainLayout",components:{AppMenu:Aa,SubscriptionWarning:Na,OtherActions:Ua},setup(){const e=Le(),c=`${ga()}images/bg/wp-4.jpg`,n=_("");function r(){G.value==="dark"?n.value="bg-grey-10":n.value="bg-blue"}R(r),R(da),h(G,r);const o=_(!1),v=()=>{o.value=!1};return{logout(){e.cookies.remove(j.cookieName,{path:"/"}),e.cookies.remove(j.userType,{path:"/"}),localStorage.removeItem("class"),localStorage.removeItem("date"),localStorage.removeItem("grade_id"),localStorage.removeItem("lesson"),window.location.reload()},drawer:_(!1),userAction:o,hideUserAction:v,avatarBg:c,header:n,pengguna:va,menuWidth:fa}}}),Ra={class:"absolute-bottom bg-transparent"},Ea=z("img",{src:"boy-avatar.png"},null,-1),Ja={class:"text-weight-bold"},Ka={class:"mobile-hide"},Xa={class:"mobile-only"};function Ya(e,c,n,r,o,v){const g=H("other-actions"),m=H("app-menu"),V=H("subscription-warning"),A=H("router-view");return w(),C(ya,{view:"lHh Lpr lFf"},{default:d(()=>[l(qa,{elevated:"",class:ma(e.header)},{default:d(()=>[l($a,null,{default:d(()=>[l(qe,{flat:"",onClick:c[0]||(c[0]=t=>e.drawer=!e.drawer),round:"",dense:"",icon:"menu"}),l(wa,null,{default:d(()=>[J("Actudent-v2 (Build "+T(e.$buildVersion)+")",1)]),_:1}),l(qe,{flat:"",round:"",dense:"",icon:"account_circle"},{default:d(()=>[l(ba,null,{default:d(()=>[l(Me,{separator:""},{default:d(()=>[l(g,{icon:"o_manage_accounts",label:e.$t("navbar_profil")},null,8,["label"]),l(g,{icon:"logout",label:e.$t("navbar_keluar"),onClick:e.logout},null,8,["label","onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"]),l(Ca,{modelValue:e.drawer,"onUpdate:modelValue":c[1]||(c[1]=t=>e.drawer=t),"show-if-above":"",width:e.menuWidth(),breakpoint:450},{default:d(()=>[l(m),l(pa,{class:"absolute-top",src:e.avatarBg,style:{height:"150px"}},{default:d(()=>[z("div",Ra,[l(ha,{size:"56px",class:"q-mb-sm"},{default:d(()=>[Ea]),_:1}),z("div",Ja,T(e.pengguna.user_name),1),z("div",Ka,T(e.$trim(e.pengguna.user_email,25)),1),z("div",Xa,T(e.$trim(e.pengguna.user_email,30)),1)])]),_:1},8,["src"])]),_:1},8,["modelValue","width"]),l(ka,null,{default:d(()=>[l(V),l(A)]),_:1})]),_:1})}var lt=N(ja,[["render",Ya]]);export{lt as default};
