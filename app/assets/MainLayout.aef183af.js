import{y as ve,c as i,D as I,V as Re,W as ye,X as N,Y as Ge,C,w as _,Z as Te,$ as ft,a0 as Je,E as Ce,a1 as mt,z as ht,a2 as bt,B as gt,a3 as Ue,a4 as yt,a5 as kt,a6 as Ee,a7 as tt,F as Pe,a8 as be,a9 as pe,aa as at,ab as wt,_ as fe,ac as Ae,o as M,k as P,g as L,f as m,N as qe,i as ge,O as Se,t as G,M as Ye,a as Ze,ad as _t,ae as et,b as de,af as $e,ag as se,ah as ut,J as A,ai as Ne,d as Ke,aj as qt,ak as $t,al as it,p as ce,am as Tt,n as Xe,an as st,ao as nt,I as Ct,ap as pt,aq as ct,ar as St,as as Lt,at as Bt,au as Mt,av as je,aw as It,ax as Pt,ay as Rt,az as At,aA as lt,aB as Vt,aC as Qt,aD as zt,aE as Dt,s as ot,aF as Ot,L as Ht,q as Wt,aG as Ft,aH as xt}from"./index.0320d508.js";import{Q as Et,a as Nt}from"./QLayout.4be08e85.js";import{Q as jt}from"./QBanner.71e91774.js";var Ut=ve({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:h}){const s=i(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>I("div",{class:s.value},Re(h.default))}}),Kt=ve({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:h}){const s=i(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>I("div",{class:s.value,role:"toolbar"},Re(h.default))}}),Xt=ve({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:h,emit:s}){const{proxy:{$q:n}}=Ce(),a=ye(Ge,N);if(a===N)return console.error("QHeader needs to be child of QLayout"),N;const b=C(parseInt(e.heightHint,10)),v=C(!0),q=i(()=>e.reveal===!0||a.view.value.indexOf("H")!==-1||n.platform.is.ios&&a.isContainer.value===!0),R=i(()=>{if(e.modelValue!==!0)return 0;if(q.value===!0)return v.value===!0?b.value:0;const f=b.value-a.scroll.value.position;return f>0?f:0}),z=i(()=>e.modelValue!==!0||q.value===!0&&v.value!==!0),o=i(()=>e.modelValue===!0&&z.value===!0&&e.reveal===!0),D=i(()=>"q-header q-layout__section--marginal "+(q.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(z.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),V=i(()=>{const f=a.rows.value.top,c={};return f[0]==="l"&&a.left.space===!0&&(c[n.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),f[2]==="r"&&a.right.space===!0&&(c[n.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),c});function p(f,c){a.update("header",f,c)}function y(f,c){f.value!==c&&(f.value=c)}function B({height:f}){y(b,f),p("size",f)}function S(f){o.value===!0&&y(v,!0),s("focusin",f)}_(()=>e.modelValue,f=>{p("space",f),y(v,!0),a.animate()}),_(R,f=>{p("offset",f)}),_(()=>e.reveal,f=>{f===!1&&y(v,e.modelValue)}),_(v,f=>{a.animate(),s("reveal",f)}),_(a.scroll,f=>{e.reveal===!0&&y(v,f.direction==="up"||f.position<=e.revealOffset||f.position-f.inflectionPoint<100)});const k={};return a.instances.header=k,e.modelValue===!0&&p("size",b.value),p("space",e.modelValue),p("offset",R.value),Te(()=>{a.instances.header===k&&(a.instances.header=void 0,p("size",0),p("offset",0),p("space",!1))}),()=>{const f=ft(h.default,[]);return e.elevated===!0&&f.push(I("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),f.push(I(Je,{debounce:0,onResize:B})),I("header",{class:D.value,style:V.value,onFocusin:S},f)}}});const rt=150;var Gt=ve({name:"QDrawer",inheritAttrs:!1,props:{...mt,...ht,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...bt,"onLayout","miniState"],setup(e,{slots:h,emit:s,attrs:n}){const a=Ce(),{proxy:{$q:b}}=a,v=gt(e,b),{preventBodyScroll:q}=wt(),{registerTimeout:R,removeTimeout:z}=Ue(),o=ye(Ge,N);if(o===N)return console.error("QDrawer needs to be child of QLayout"),N;let D,V=null,p;const y=C(e.behavior==="mobile"||e.behavior!=="desktop"&&o.totalWidth.value<=e.breakpoint),B=i(()=>e.mini===!0&&y.value!==!0),S=i(()=>B.value===!0?e.miniWidth:e.width),k=C(e.showIfAbove===!0&&y.value===!1?!0:e.modelValue===!0),f=i(()=>e.persistent!==!0&&(y.value===!0||Ve.value===!0));function c(t,u){if(O(),t!==!1&&o.animate(),W(0),y.value===!0){const g=o.instances[ee.value];g!==void 0&&g.belowBreakpoint===!0&&g.hide(!1),x(1),o.isContainer.value!==!0&&q(!0)}else x(0),t!==!1&&me(!1);R(()=>{t!==!1&&me(!0),u!==!0&&s("show",t)},rt)}function Q(t,u){E(),t!==!1&&o.animate(),x(0),W(J.value*S.value),he(),u!==!0?R(()=>{s("hide",t)},rt):z()}const{show:d,hide:w}=yt({showing:k,hideOnRouteChange:f,handleShow:c,handleHide:Q}),{addToHistory:O,removeFromHistory:E}=kt(k,w,f),F={belowBreakpoint:y,hide:w},j=i(()=>e.side==="right"),J=i(()=>(b.lang.rtl===!0?-1:1)*(j.value===!0?1:-1)),Le=C(0),Y=C(!1),Z=C(!1),ue=C(S.value*J.value),ee=i(()=>j.value===!0?"left":"right"),ie=i(()=>k.value===!0&&y.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:S.value:0),te=i(()=>e.overlay===!0||e.miniToOverlay===!0||o.view.value.indexOf(j.value?"R":"L")!==-1||b.platform.is.ios===!0&&o.isContainer.value===!0),ae=i(()=>e.overlay===!1&&k.value===!0&&y.value===!1),Ve=i(()=>e.overlay===!0&&k.value===!0&&y.value===!1),ne=i(()=>"fullscreen q-drawer__backdrop"+(k.value===!1&&Y.value===!1?" hidden":"")),le=i(()=>({backgroundColor:`rgba(0,0,0,${Le.value*.4})`})),ke=i(()=>j.value===!0?o.rows.value.top[2]==="r":o.rows.value.top[0]==="l"),Be=i(()=>j.value===!0?o.rows.value.bottom[2]==="r":o.rows.value.bottom[0]==="l"),Me=i(()=>{const t={};return o.header.space===!0&&ke.value===!1&&(te.value===!0?t.top=`${o.header.offset}px`:o.header.space===!0&&(t.top=`${o.header.size}px`)),o.footer.space===!0&&Be.value===!1&&(te.value===!0?t.bottom=`${o.footer.offset}px`:o.footer.space===!0&&(t.bottom=`${o.footer.size}px`)),t}),K=i(()=>{const t={width:`${S.value}px`,transform:`translateX(${ue.value}px)`};return y.value===!0?t:Object.assign(t,Me.value)}),Qe=i(()=>"q-drawer__content fit "+(o.isContainer.value!==!0?"scroll":"overflow-auto")),ze=i(()=>`q-drawer q-drawer--${e.side}`+(Z.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(v.value===!0?" q-drawer--dark q-dark":"")+(Y.value===!0?" no-transition":k.value===!0?"":" q-layout--prevent-focus")+(y.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${B.value===!0?"mini":"standard"}`+(te.value===!0||ae.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(ke.value===!0?" q-drawer--top-padding":""))),De=i(()=>{const t=b.lang.rtl===!0?e.side:ee.value;return[[Ee,We,void 0,{[t]:!0,mouse:!0}]]}),Ie=i(()=>{const t=b.lang.rtl===!0?ee.value:e.side;return[[Ee,_e,void 0,{[t]:!0,mouse:!0}]]}),Oe=i(()=>{const t=b.lang.rtl===!0?ee.value:e.side;return[[Ee,_e,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function we(){l(y,e.behavior==="mobile"||e.behavior!=="desktop"&&o.totalWidth.value<=e.breakpoint)}_(y,t=>{t===!0?(D=k.value,k.value===!0&&w(!1)):e.overlay===!1&&e.behavior!=="mobile"&&D!==!1&&(k.value===!0?(W(0),x(0),he()):d(!1))}),_(()=>e.side,(t,u)=>{o.instances[u]===F&&(o.instances[u]=void 0,o[u].space=!1,o[u].offset=0),o.instances[t]=F,o[t].size=S.value,o[t].space=ae.value,o[t].offset=ie.value}),_(o.totalWidth,()=>{(o.isContainer.value===!0||document.qScrollPrevented!==!0)&&we()}),_(()=>e.behavior+e.breakpoint,we),_(o.isContainer,t=>{k.value===!0&&q(t!==!0),t===!0&&we()}),_(o.scrollbarWidth,()=>{W(k.value===!0?0:void 0)}),_(ie,t=>{U("offset",t)}),_(ae,t=>{s("onLayout",t),U("space",t)}),_(j,()=>{W()}),_(S,t=>{W(),r(e.miniToOverlay,t)}),_(()=>e.miniToOverlay,t=>{r(t,S.value)}),_(()=>b.lang.rtl,()=>{W()}),_(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(He(),o.animate())}),_(B,t=>{s("miniState",t)});function W(t){t===void 0?tt(()=>{t=k.value===!0?0:S.value,W(J.value*t)}):(o.isContainer.value===!0&&j.value===!0&&(y.value===!0||Math.abs(t)===S.value)&&(t+=J.value*o.scrollbarWidth.value),ue.value=t)}function x(t){Le.value=t}function me(t){const u=t===!0?"remove":o.isContainer.value!==!0?"add":"";u!==""&&document.body.classList[u]("q-body--drawer-toggle")}function He(){V!==null&&clearTimeout(V),a.proxy&&a.proxy.$el&&a.proxy.$el.classList.add("q-drawer--mini-animate"),Z.value=!0,V=setTimeout(()=>{V=null,Z.value=!1,a&&a.proxy&&a.proxy.$el&&a.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function We(t){if(k.value!==!1)return;const u=S.value,g=Pe(t.distance.x,0,u);if(t.isFinal===!0){g>=Math.min(75,u)===!0?d():(o.animate(),x(0),W(J.value*u)),Y.value=!1;return}W((b.lang.rtl===!0?j.value!==!0:j.value)?Math.max(u-g,0):Math.min(0,g-u)),x(Pe(g/u,0,1)),t.isFirst===!0&&(Y.value=!0)}function _e(t){if(k.value!==!0)return;const u=S.value,g=t.direction===e.side,$=(b.lang.rtl===!0?g!==!0:g)?Pe(t.distance.x,0,u):0;if(t.isFinal===!0){Math.abs($)<Math.min(75,u)===!0?(o.animate(),x(1),W(0)):w(),Y.value=!1;return}W(J.value*$),x(Pe(1-$/u,0,1)),t.isFirst===!0&&(Y.value=!0)}function he(){q(!1),me(!0)}function U(t,u){o.update(e.side,t,u)}function l(t,u){t.value!==u&&(t.value=u)}function r(t,u){U("size",t===!0?e.miniWidth:u)}return o.instances[e.side]=F,r(e.miniToOverlay,S.value),U("space",ae.value),U("offset",ie.value),e.showIfAbove===!0&&e.modelValue!==!0&&k.value===!0&&e["onUpdate:modelValue"]!==void 0&&s("update:modelValue",!0),be(()=>{s("onLayout",ae.value),s("miniState",B.value),D=e.showIfAbove===!0;const t=()=>{(k.value===!0?c:Q)(!1,!0)};if(o.totalWidth.value!==0){tt(t);return}p=_(o.totalWidth,()=>{p(),p=void 0,k.value===!1&&e.showIfAbove===!0&&y.value===!1?d(!1):t()})}),Te(()=>{p!==void 0&&p(),V!==null&&(clearTimeout(V),V=null),k.value===!0&&he(),o.instances[e.side]===F&&(o.instances[e.side]=void 0,U("size",0),U("offset",0),U("space",!1))}),()=>{const t=[];y.value===!0&&(e.noSwipeOpen===!1&&t.push(pe(I("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),De.value)),t.push(at("div",{ref:"backdrop",class:ne.value,style:le.value,"aria-hidden":"true",onClick:w},void 0,"backdrop",e.noSwipeBackdrop!==!0&&k.value===!0,()=>Oe.value)));const u=B.value===!0&&h.mini!==void 0,g=[I("div",{...n,key:""+u,class:[Qe.value,n.class]},u===!0?h.mini():Re(h.default))];return e.elevated===!0&&k.value===!0&&g.push(I("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(at("aside",{ref:"content",class:ze.value,style:K.value},g,"contentclose",e.noSwipeClose!==!0&&y.value===!0,()=>Ie.value)),I("div",{class:"q-drawer-container"},t)}}});const Jt={props:["link","icon","label"],setup(){return{activeClass:ye("activeClass")}}};function Yt(e,h,s,n,a,b){return pe((M(),P(Ye,{"active-class":n.activeClass,clickable:"",to:s.link},{default:L(()=>[m(qe,{avatar:""},{default:L(()=>[m(ge,{name:s.icon},null,8,["name"])]),_:1}),m(qe,null,{default:L(()=>[Se(G(s.label),1)]),_:1})]),_:1},8,["active-class","to"])),[[Ae]])}var Zt=fe(Jt,[["render",Yt]]);const ea={props:["link","label"],setup(){return{activeClass:ye("activeClass")}}};function ta(e,h,s,n,a,b){return pe((M(),P(Ye,{"active-class":n.activeClass,clickable:"","inset-level":1,to:s.link},{default:L(()=>[m(qe,null,{default:L(()=>[Se(G(s.label),1)]),_:1})]),_:1},8,["active-class","to"])),[[Ae]])}var aa=fe(ea,[["render",ta]]);const na={name:"AppMenu",components:{MenuItem:Zt,SubmenuItem:aa},setup(){const e=Ze(),h=_t(),s=C("");et("activeClass",s),C([]);const n=e.cookies.get(de.userType)==="1"?"/home":"/teacher/home";function a(){$e.value==="dark"?s.value="bg-blue-grey-8 text-grey-3":s.value="bg-teal-1 text-grey-8"}_($e,a),h.checkHomeroomTeacher();const b=localStorage.getItem("grade_id");be(()=>a());const v=e.cookies.get(de.userType)==="1"?"/app-settings":"/teacher/app-settings";return{isHomeroomTeacher:i(()=>h.isHomeroomTeacher),dashboardLink:n,activeClass:s,conf:de,gradeId:b,appSettingsLink:v}}},la={key:2},oa={key:4};function ra(e,h,s,n,a,b){const v=se("menu-item"),q=se("submenu-item");return M(),P(qt,{class:"menu-list",style:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},{default:L(()=>[m(ut,{padding:""},{default:L(()=>[e.$q.screen.gt.sm?(M(),P(v,{key:0,icon:"o_home",label:e.$t("menu_dashboard"),link:n.dashboardLink},null,8,["label","link"])):A("",!0),e.$q.cookies.get(n.conf.userType)==="1"?(M(),P(Ne,{key:1,"expand-separator":"",icon:"o_inventory_2",label:"Data","default-opened":e.$q.screen.lt.sm},{default:L(()=>[m(q,{label:e.$t("menu_parent"),link:"/parent"},null,8,["label"]),m(q,{label:e.$t("menu_siswa"),link:"/student"},null,8,["label"]),m(q,{label:e.$t("menu_pegawai"),link:"/employee"},null,8,["label"]),m(q,{label:e.$t("menu_kelas"),link:"/class"},null,8,["label"]),m(q,{label:e.$t("menu_ruang"),link:"/rooms"},null,8,["label"]),m(q,{label:e.$t("menu_mapel"),link:"/lesson"},null,8,["label"])]),_:1},8,["default-opened"])):A("",!0),e.$q.cookies.get(n.conf.userType)==="1"?(M(),Ke("div",la,[e.$q.screen.gt.sm?(M(),P(v,{key:0,icon:"list",label:e.$t("menu_jadwal"),link:"/schedules"},null,8,["label"])):A("",!0),e.$q.screen.gt.sm?(M(),P(v,{key:1,icon:"task_alt",label:e.$t("menu_kehadiran"),link:"/presence"},null,8,["label"])):A("",!0),e.$q.screen.gt.sm?(M(),P(v,{key:2,icon:"today",label:e.$t("menu_agenda"),link:"/agenda"},null,8,["label"])):A("",!0)])):A("",!0),e.$q.cookies.get(n.conf.userType)==="2"&&e.$q.screen.gt.sm?(M(),P(v,{key:3,icon:"o_book",label:e.$t("menu_jadwal_guru"),link:"/teacher/presence"},null,8,["label"])):A("",!0),(e.$q.cookies.get(n.conf.userType)==="2"||e.$q.cookies.get(n.conf.userType)==="0")&&e.$q.screen.gt.sm?(M(),Ke("div",oa,[m(v,{icon:"today",label:e.$t("menu_agenda"),link:"/teacher/agenda"},null,8,["label"])])):A("",!0),e.$q.screen.gt.sm?(M(),P(v,{key:5,icon:"list_alt",label:e.$t("menu_post"),link:"/post"},null,8,["label"])):A("",!0),e.$q.cookies.get(n.conf.userType)==="2"&&n.isHomeroomTeacher?(M(),P(Ne,{key:6,"expand-separator":"",icon:"o_summarize",label:e.$t("laporan"),"default-opened":e.$q.screen.lt.sm},{default:L(()=>[m(q,{label:e.$t("absensi_laporan_harian"),link:"/teacher/daily-report"},null,8,["label"]),m(q,{label:e.$t("absensi_rekap_bulanan"),link:`/teacher/monthly-summary/${n.gradeId}`},null,8,["label","link"]),m(q,{label:e.$t("absensi_rekap_semester"),link:`/teacher/period-summary/${n.gradeId}`},null,8,["label","link"])]),_:1},8,["label","default-opened"])):A("",!0),m(Ne,{"expand-separator":"",icon:"o_settings",label:e.$t("menu_pengaturan"),"default-opened":e.$q.screen.lt.sm},{default:L(()=>[e.$q.cookies.get(n.conf.userType)==="1"?(M(),P(q,{key:0,label:e.$t("menu_pengguna"),link:"/users"},null,8,["label"])):A("",!0),m(q,{label:e.$t("menu_aplikasi"),link:n.appSettingsLink},null,8,["label","link"]),e.$q.cookies.get(n.conf.userType)==="1"?(M(),P(q,{key:1,label:e.$t("app_report_title"),link:"/report-settings"},null,8,["label"])):A("",!0)]),_:1},8,["label","default-opened"])]),_:1})]),_:1})}var ua=fe(na,[["render",ra]]);const ia={name:"SubscriptionWarning",setup(){const e=C({});return be(()=>{$t.get("get-subscription-warning",{headers:{Authorization:it}}).then(h=>{e.value=h.data}).catch(h=>console.log(h))}),{subs:e}}},sa={key:0,class:"q-px-md q-pt-md q-gutter-sm"},ca={class:"q-mt-md"};function da(e,h,s,n,a,b){return n.subs.left<=7?(M(),Ke("div",sa,[m(jt,{rounded:"",dense:"","inline-actions":"",class:"bg-negative text-white"},{default:L(()=>[ce("p",ca,[ce("strong",null,G(e.$t("peringatan")),1),Se(" "+G(n.subs.text)+" "+G(n.subs.date)+". ",1)])]),_:1})])):A("",!0)}var va=fe(ia,[["render",da]]);const fa={props:["link","icon","label"],setup(){return{accountMenu:i(()=>$e.value==="dark"?"account-menu-item-dark":"")}}};function ma(e,h,s,n,a,b){return pe((M(),P(Ye,{clickable:"",class:Xe(["q-pr-xl",n.accountMenu]),to:s.link},{default:L(()=>[m(qe,{avatar:""},{default:L(()=>[m(ge,{name:s.icon},null,8,["name"])]),_:1}),m(qe,null,{default:L(()=>[Se(G(s.label),1)]),_:1})]),_:1},8,["class","to"])),[[Ae],[Tt]])}var ha=fe(fa,[["render",ma]]);let ba=0;const ga=["click","keydown"],ya={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${ba++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function ka(e,h,s,n){const a=ye(st,N);if(a===N)return console.error("QTab/QRouteTab component needs to be child of QTabs"),N;const{proxy:b}=Ce(),v=C(null),q=C(null),R=C(null),z=i(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),o=i(()=>a.currentModel.value===e.name),D=i(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(o.value===!0?" q-tab--active"+(a.tabProps.value.activeClass?" "+a.tabProps.value.activeClass:"")+(a.tabProps.value.activeColor?` text-${a.tabProps.value.activeColor}`:"")+(a.tabProps.value.activeBgColor?` bg-${a.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&a.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||a.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(n!==void 0?n.linkClass.value:"")),V=i(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(a.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),p=i(()=>e.disable===!0||a.hasFocus.value===!0||o.value===!1&&a.hasActiveTab.value===!0?-1:e.tabindex||0);function y(c,Q){if(Q!==!0&&v.value!==null&&v.value.focus(),e.disable===!0){n!==void 0&&n.hasRouterLink.value===!0&&nt(c);return}if(n===void 0){a.updateModel({name:e.name}),s("click",c);return}if(n.hasRouterLink.value===!0){const d=(w={})=>{let O;const E=w.to===void 0||St(w.to,e.to)===!0?a.avoidRouteWatcher=Lt():null;return n.navigateToRouterLink(c,{...w,returnRouterError:!0}).catch(F=>{O=F}).then(F=>{if(E===a.avoidRouteWatcher&&(a.avoidRouteWatcher=!1,O===void 0&&(F===void 0||F.message!==void 0&&F.message.startsWith("Avoided redundant navigation")===!0)&&a.updateModel({name:e.name})),w.returnRouterError===!0)return O!==void 0?Promise.reject(O):F})};s("click",c,d),c.defaultPrevented!==!0&&d();return}s("click",c)}function B(c){Ct(c,[13,32])?y(c,!0):pt(c)!==!0&&c.keyCode>=35&&c.keyCode<=40&&c.altKey!==!0&&c.metaKey!==!0&&a.onKbdNavigate(c.keyCode,b.$el)===!0&&nt(c),s("keydown",c)}function S(){const c=a.tabProps.value.narrowIndicator,Q=[],d=I("div",{ref:R,class:["q-tab__indicator",a.tabProps.value.indicatorClass]});e.icon!==void 0&&Q.push(I(ge,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&Q.push(I("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&Q.push(e.alertIcon!==void 0?I(ge,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):I("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),c===!0&&Q.push(d);const w=[I("div",{class:"q-focus-helper",tabindex:-1,ref:v}),I("div",{class:V.value},ct(h.default,Q))];return c===!1&&w.push(d),w}const k={name:i(()=>e.name),rootRef:q,tabIndicatorRef:R,routeData:n};Te(()=>{a.unregisterTab(k)}),be(()=>{a.registerTab(k)});function f(c,Q){const d={ref:q,class:D.value,tabindex:p.value,role:"tab","aria-selected":o.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:y,onKeydown:B,...Q};return pe(I(c,d,S()),[[Ae,z.value]])}return{renderTab:f,$tabs:a}}var re=ve({name:"QRouteTab",props:{...Bt,...ya},emits:ga,setup(e,{slots:h,emit:s}){const n=Mt({useDisableForRouterLinkProps:!1}),{renderTab:a,$tabs:b}=ka(e,h,s,{exact:i(()=>e.exact),...n});return _(()=>`${e.name} | ${e.exact} | ${(n.resolvedLink.value||{}).href}`,()=>{b.verifyRouteModel()}),()=>a(n.linkTag.value,n.linkAttrs.value)}});function wa(e,h,s){const n=s===!0?["left","right"]:["top","bottom"];return`absolute-${h===!0?n[0]:n[1]}${e?` text-${e}`:""}`}const _a=["left","center","right","justify"];var qa=ve({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>_a.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:h,emit:s}){const{proxy:n}=Ce(),{$q:a}=n,{registerTick:b}=je(),{registerTick:v}=je(),{registerTick:q}=je(),{registerTimeout:R,removeTimeout:z}=Ue(),{registerTimeout:o,removeTimeout:D}=Ue(),V=C(null),p=C(null),y=C(e.modelValue),B=C(!1),S=C(!0),k=C(!1),f=C(!1),c=[],Q=C(0),d=C(!1);let w=null,O=null,E;const F=i(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:wa(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),j=i(()=>{const l=Q.value,r=y.value;for(let t=0;t<l;t++)if(c[t].name.value===r)return!0;return!1}),J=i(()=>`q-tabs__content--align-${B.value===!0?"left":f.value===!0?"justify":e.align}`),Le=i(()=>`q-tabs row no-wrap items-center q-tabs--${B.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),Y=i(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+J.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),Z=i(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),ue=i(()=>e.vertical!==!0&&a.lang.rtl===!0),ee=i(()=>It===!1&&ue.value===!0);_(ue,le),_(()=>e.modelValue,l=>{ie({name:l,setCurrent:!0,skipEmit:!0})}),_(()=>e.outsideArrows,te);function ie({name:l,setCurrent:r,skipEmit:t}){y.value!==l&&(t!==!0&&e["onUpdate:modelValue"]!==void 0&&s("update:modelValue",l),(r===!0||e["onUpdate:modelValue"]===void 0)&&(Ve(y.value,l),y.value=l))}function te(){b(()=>{ae({width:V.value.offsetWidth,height:V.value.offsetHeight})})}function ae(l){if(Z.value===void 0||p.value===null)return;const r=l[Z.value.container],t=Math.min(p.value[Z.value.scroll],Array.prototype.reduce.call(p.value.children,(g,$)=>g+($[Z.value.content]||0),0)),u=r>0&&t>r;B.value=u,u===!0&&v(le),f.value=r<parseInt(e.breakpoint,10)}function Ve(l,r){const t=l!=null&&l!==""?c.find(g=>g.name.value===l):null,u=r!=null&&r!==""?c.find(g=>g.name.value===r):null;if(t&&u){const g=t.tabIndicatorRef.value,$=u.tabIndicatorRef.value;w!==null&&(clearTimeout(w),w=null),g.style.transition="none",g.style.transform="none",$.style.transition="none",$.style.transform="none";const T=g.getBoundingClientRect(),H=$.getBoundingClientRect();$.style.transform=e.vertical===!0?`translate3d(0,${T.top-H.top}px,0) scale3d(1,${H.height?T.height/H.height:1},1)`:`translate3d(${T.left-H.left}px,0,0) scale3d(${H.width?T.width/H.width:1},1,1)`,q(()=>{w=setTimeout(()=>{w=null,$.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",$.style.transform="none"},70)})}u&&B.value===!0&&ne(u.rootRef.value)}function ne(l){const{left:r,width:t,top:u,height:g}=p.value.getBoundingClientRect(),$=l.getBoundingClientRect();let T=e.vertical===!0?$.top-u:$.left-r;if(T<0){p.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(T),le();return}T+=e.vertical===!0?$.height-g:$.width-t,T>0&&(p.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(T),le())}function le(){const l=p.value;if(l===null)return;const r=l.getBoundingClientRect(),t=e.vertical===!0?l.scrollTop:Math.abs(l.scrollLeft);ue.value===!0?(S.value=Math.ceil(t+r.width)<l.scrollWidth-1,k.value=t>0):(S.value=t>0,k.value=e.vertical===!0?Math.ceil(t+r.height)<l.scrollHeight:Math.ceil(t+r.width)<l.scrollWidth)}function ke(l){O!==null&&clearInterval(O),O=setInterval(()=>{De(l)===!0&&K()},5)}function Be(){ke(ee.value===!0?Number.MAX_SAFE_INTEGER:0)}function Me(){ke(ee.value===!0?0:Number.MAX_SAFE_INTEGER)}function K(){O!==null&&(clearInterval(O),O=null)}function Qe(l,r){const t=Array.prototype.filter.call(p.value.children,H=>H===r||H.matches&&H.matches(".q-tab.q-focusable")===!0),u=t.length;if(u===0)return;if(l===36)return ne(t[0]),t[0].focus(),!0;if(l===35)return ne(t[u-1]),t[u-1].focus(),!0;const g=l===(e.vertical===!0?38:37),$=l===(e.vertical===!0?40:39),T=g===!0?-1:$===!0?1:void 0;if(T!==void 0){const H=ue.value===!0?-1:1,X=t.indexOf(r)+T*H;return X>=0&&X<u&&(ne(t[X]),t[X].focus({preventScroll:!0})),!0}}const ze=i(()=>ee.value===!0?{get:l=>Math.abs(l.scrollLeft),set:(l,r)=>{l.scrollLeft=-r}}:e.vertical===!0?{get:l=>l.scrollTop,set:(l,r)=>{l.scrollTop=r}}:{get:l=>l.scrollLeft,set:(l,r)=>{l.scrollLeft=r}});function De(l){const r=p.value,{get:t,set:u}=ze.value;let g=!1,$=t(r);const T=l<$?-1:1;return $+=T*5,$<0?(g=!0,$=0):(T===-1&&$<=l||T===1&&$>=l)&&(g=!0,$=l),u(r,$),le(),g}function Ie(l,r){for(const t in l)if(l[t]!==r[t])return!1;return!0}function Oe(){let l=null,r={matchedLen:0,queryDiff:9999,hrefLen:0};const t=c.filter(T=>T.routeData!==void 0&&T.routeData.hasRouterLink.value===!0),{hash:u,query:g}=n.$route,$=Object.keys(g).length;for(const T of t){const H=T.routeData.exact.value===!0;if(T.routeData[H===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:X,query:Fe,matched:dt,href:vt}=T.routeData.resolvedLink.value,xe=Object.keys(Fe).length;if(H===!0){if(X!==u||xe!==$||Ie(g,Fe)===!1)continue;l=T.name.value;break}if(X!==""&&X!==u||xe!==0&&Ie(Fe,g)===!1)continue;const oe={matchedLen:dt.length,queryDiff:$-xe,hrefLen:vt.length-X.length};if(oe.matchedLen>r.matchedLen){l=T.name.value,r=oe;continue}else if(oe.matchedLen!==r.matchedLen)continue;if(oe.queryDiff<r.queryDiff)l=T.name.value,r=oe;else if(oe.queryDiff!==r.queryDiff)continue;oe.hrefLen>r.hrefLen&&(l=T.name.value,r=oe)}l===null&&c.some(T=>T.routeData===void 0&&T.name.value===y.value)===!0||ie({name:l,setCurrent:!0})}function we(l){if(z(),d.value!==!0&&V.value!==null&&l.target&&typeof l.target.closest=="function"){const r=l.target.closest(".q-tab");r&&V.value.contains(r)===!0&&(d.value=!0,B.value===!0&&ne(r))}}function W(){R(()=>{d.value=!1},30)}function x(){_e.avoidRouteWatcher===!1?o(Oe):D()}function me(){if(E===void 0){const l=_(()=>n.$route.fullPath,x);E=()=>{l(),E=void 0}}}function He(l){c.push(l),Q.value++,te(),l.routeData===void 0||n.$route===void 0?o(()=>{if(B.value===!0){const r=y.value,t=r!=null&&r!==""?c.find(u=>u.name.value===r):null;t&&ne(t.rootRef.value)}}):(me(),l.routeData.hasRouterLink.value===!0&&x())}function We(l){c.splice(c.indexOf(l),1),Q.value--,te(),E!==void 0&&l.routeData!==void 0&&(c.every(r=>r.routeData===void 0)===!0&&E(),x())}const _e={currentModel:y,tabProps:F,hasFocus:d,hasActiveTab:j,registerTab:He,unregisterTab:We,verifyRouteModel:x,updateModel:ie,onKbdNavigate:Qe,avoidRouteWatcher:!1};et(st,_e);function he(){w!==null&&clearTimeout(w),K(),E!==void 0&&E()}let U;return Te(he),Pt(()=>{U=E!==void 0,he()}),Rt(()=>{U===!0&&me(),te()}),()=>I("div",{ref:V,class:Le.value,role:"tablist",onFocusin:we,onFocusout:W},[I(Je,{onResize:ae}),I("div",{ref:p,class:Y.value,onScroll:le},Re(h.default)),I(ge,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(S.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||a.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Be,onTouchstartPassive:Be,onMouseupPassive:K,onMouseleavePassive:K,onTouchendPassive:K}),I(ge,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(k.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||a.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Me,onTouchstartPassive:Me,onMouseupPassive:K,onMouseleavePassive:K,onTouchendPassive:K})])}}),$a=ve({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:h,emit:s}){const{proxy:{$q:n}}=Ce(),a=ye(Ge,N);if(a===N)return console.error("QFooter needs to be child of QLayout"),N;const b=C(parseInt(e.heightHint,10)),v=C(!0),q=C(At.value===!0||a.isContainer.value===!0?0:window.innerHeight),R=i(()=>e.reveal===!0||a.view.value.indexOf("F")!==-1||n.platform.is.ios&&a.isContainer.value===!0),z=i(()=>a.isContainer.value===!0?a.containerHeight.value:q.value),o=i(()=>{if(e.modelValue!==!0)return 0;if(R.value===!0)return v.value===!0?b.value:0;const d=a.scroll.value.position+z.value+b.value-a.height.value;return d>0?d:0}),D=i(()=>e.modelValue!==!0||R.value===!0&&v.value!==!0),V=i(()=>e.modelValue===!0&&D.value===!0&&e.reveal===!0),p=i(()=>"q-footer q-layout__section--marginal "+(R.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(D.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(R.value!==!0?" hidden":""):"")),y=i(()=>{const d=a.rows.value.bottom,w={};return d[0]==="l"&&a.left.space===!0&&(w[n.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),d[2]==="r"&&a.right.space===!0&&(w[n.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),w});function B(d,w){a.update("footer",d,w)}function S(d,w){d.value!==w&&(d.value=w)}function k({height:d}){S(b,d),B("size",d)}function f(){if(e.reveal!==!0)return;const{direction:d,position:w,inflectionPoint:O}=a.scroll.value;S(v,d==="up"||w-O<100||a.height.value-z.value-w-b.value<300)}function c(d){V.value===!0&&S(v,!0),s("focusin",d)}_(()=>e.modelValue,d=>{B("space",d),S(v,!0),a.animate()}),_(o,d=>{B("offset",d)}),_(()=>e.reveal,d=>{d===!1&&S(v,e.modelValue)}),_(v,d=>{a.animate(),s("reveal",d)}),_([b,a.scroll,a.height],f),_(()=>n.screen.height,d=>{a.isContainer.value!==!0&&S(q,d)});const Q={};return a.instances.footer=Q,e.modelValue===!0&&B("size",b.value),B("space",e.modelValue),B("offset",o.value),Te(()=>{a.instances.footer===Q&&(a.instances.footer=void 0,B("size",0),B("offset",0),B("space",!1))}),()=>{const d=ct(h.default,[I(Je,{debounce:0,onResize:k})]);return e.elevated===!0&&d.push(I("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),I("footer",{class:p.value,style:y.value,onFocusin:c},d)}}});const Ta={name:"MobileMenu",setup(){Ze();const e=C(lt);return{conf:de,dashboardLink:lt,activeMobileMenu:e}}};function Ca(e,h,s,n,a,b){return e.$q.screen.lt.sm?(M(),P($a,{key:0,elevated:""},{default:L(()=>[m(qa,{align:"center",modelValue:n.activeMobileMenu,"onUpdate:modelValue":h[0]||(h[0]=v=>n.activeMobileMenu=v),class:"text-white"},{default:L(()=>[m(re,{name:n.dashboardLink,icon:"o_home",to:n.dashboardLink},null,8,["name","to"]),e.$q.cookies.get(n.conf.userType)==="1"?(M(),P(re,{key:0,to:"/schedules",name:"schedules",icon:"list"})):A("",!0),e.$q.cookies.get(n.conf.userType)==="2"?(M(),P(re,{key:1,to:"/teacher/presence",name:"schedules",icon:"list"})):A("",!0),e.$q.cookies.get(n.conf.userType)==="2"||e.$q.cookies.get(n.conf.userType)==="0"?(M(),P(re,{key:2,to:"/teacher/agenda",name:"agenda",icon:"today"})):A("",!0),e.$q.cookies.get(n.conf.userType)==="2"||e.$q.cookies.get(n.conf.userType)==="0"?(M(),P(re,{key:3,to:"/post",name:"post",icon:"list_alt"})):A("",!0),e.$q.cookies.get(n.conf.userType)==="1"?(M(),P(re,{key:4,to:"/presence",name:"presence",icon:"task_alt"})):A("",!0),e.$q.cookies.get(n.conf.userType)==="1"?(M(),P(re,{key:5,to:"/agenda",name:"agenda",icon:"today"})):A("",!0),m(re,{to:"/manage-account",name:"account",icon:"account_circle"})]),_:1},8,["modelValue"])]),_:1})):A("",!0)}var pa=fe(Ta,[["render",Ca]]);const Sa=Vt({name:"MainLayout",components:{AppMenu:ua,SubscriptionWarning:va,OtherActions:ha,MobileMenu:pa},setup(){const e=Ze(),h=`${Ft()}images/bg/wp-4.jpg`,s=C(""),n=C(!0),a=C(["user-menu"]);function b(){$e.value==="dark"?(s.value="bg-grey-10",n.value=!1,a.value.push("user-menu-dark")):(s.value="header-gradient",n.value=!0,a.value.pop())}be(b),be(Qt),_($e,b);const v=C(!1),q=()=>{v.value=!1},R=()=>{xt.get(`${de.coreAPI}logout`,{headers:{Authorization:it}}).then(({data:z})=>{z.status==="OK"?(e.cookies.remove(de.cookieName,{path:"/"}),e.cookies.remove(de.userType,{path:"/"}),localStorage.removeItem("class"),localStorage.removeItem("date"),localStorage.removeItem("grade_id"),localStorage.removeItem("lesson"),window.location.reload()):console.warn(z.msg)})};return et("logout",R),{logout:R,userMenu:a,elevated:n,drawer:C(!1),userAction:v,hideUserAction:q,avatarBg:h,header:s,pengguna:zt,menuWidth:Dt}}}),La={class:"absolute-bottom bg-transparent"},Ba=ce("img",{src:"boy-avatar.png"},null,-1),Ma={class:"text-weight-bold"},Ia={class:"mobile-hide"},Pa={class:"mobile-only"};function Ra(e,h,s,n,a,b){const v=se("other-actions"),q=se("mobile-menu"),R=se("app-menu"),z=se("subscription-warning"),o=se("router-view");return M(),P(Nt,{view:"lHh Lpr lFf"},{default:L(()=>[m(Xt,{elevated:e.elevated,class:Xe(e.header)},{default:L(()=>[m(Kt,null,{default:L(()=>[m(ot,{flat:"",onClick:h[0]||(h[0]=D=>e.drawer=!e.drawer),round:"",dense:"",icon:"menu"}),m(Ut,null,{default:L(()=>[Se("ActudentV2 ")]),_:1}),m(ot,{flat:"",round:"",dense:"",icon:"account_circle",class:"mobile-hide"},{default:L(()=>[m(Ot,{class:Xe(e.userMenu)},{default:L(()=>[m(ut,{separator:""},{default:L(()=>[m(v,{icon:"o_manage_accounts",label:e.$t("navbar_profil"),link:"/account"},null,8,["label"]),m(v,{icon:"o_dns",label:e.$t("session_title"),link:"/sessions"},null,8,["label"]),m(v,{icon:"logout",label:e.$t("navbar_keluar"),onClick:e.logout},null,8,["label","onClick"])]),_:1})]),_:1},8,["class"])]),_:1})]),_:1})]),_:1},8,["elevated","class"]),m(q),m(Gt,{modelValue:e.drawer,"onUpdate:modelValue":h[1]||(h[1]=D=>e.drawer=D),"show-if-above":"",width:e.menuWidth(),breakpoint:450},{default:L(()=>[m(R),m(Ht,{class:"absolute-top",src:e.avatarBg,style:{height:"150px"}},{default:L(()=>[ce("div",La,[m(Wt,{size:"56px",class:"q-mb-sm"},{default:L(()=>[Ba]),_:1}),ce("div",Ma,G(e.pengguna.user_name),1),ce("div",Ia,G(e.$trim(e.pengguna.user_email,25)),1),ce("div",Pa,G(e.$trim(e.pengguna.user_email,30)),1)])]),_:1},8,["src"])]),_:1},8,["modelValue","width"]),m(Et,null,{default:L(()=>[m(z),m(o)]),_:1})]),_:1})}var za=fe(Sa,[["render",Ra]]);export{za as default};
