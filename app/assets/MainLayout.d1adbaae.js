import{y as fe,c as u,D as I,V as Ve,W as ke,X as N,Y as Je,C as p,w as k,Z as $e,$ as bt,a0 as Ye,E as Ce,a1 as gt,z as yt,a2 as kt,B as wt,a3 as Xe,a4 as _t,a5 as qt,a6 as je,a7 as at,F as Pe,a8 as ve,a9 as pe,aa as nt,ab as Tt,_ as me,ac as Qe,o as M,k as P,g as L,f,N as Te,i as ge,O as Se,t as G,M as Ze,a as et,ad as $t,ae as tt,b as de,af as ye,ag as se,ah as ut,J as R,ai as Ke,d as Ge,aj as Ct,ak as pt,al as st,p as ce,am as St,n as Re,an as ct,ao as lt,I as Lt,ap as Bt,aq as dt,ar as Mt,as as It,at as Pt,au as Rt,av as Ue,aw as At,ax as Vt,ay as Qt,az as zt,aA as ot,aB as Ae,aC as vt,aD as ft,aE as Dt,aF as Ot,aG as Ht,aH as Wt,aI as Ft,s as rt,aJ as xt,L as Et,q as Nt,aK as jt,aL as Kt}from"./index.951da69c.js";import{Q as Ut,a as Xt}from"./QLayout.8748c87c.js";import{Q as Gt}from"./QBanner.541dddf5.js";var Jt=fe({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:m}){const s=u(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>I("div",{class:s.value},Ve(m.default))}}),Yt=fe({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:m}){const s=u(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>I("div",{class:s.value,role:"toolbar"},Ve(m.default))}}),Zt=fe({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:m,emit:s}){const{proxy:{$q:n}}=Ce(),a=ke(Je,N);if(a===N)return console.error("QHeader needs to be child of QLayout"),N;const h=p(parseInt(e.heightHint,10)),b=p(!0),$=u(()=>e.reveal===!0||a.view.value.indexOf("H")!==-1||n.platform.is.ios&&a.isContainer.value===!0),Q=u(()=>{if(e.modelValue!==!0)return 0;if($.value===!0)return b.value===!0?h.value:0;const v=h.value-a.scroll.value.position;return v>0?v:0}),W=u(()=>e.modelValue!==!0||$.value===!0&&b.value!==!0),o=u(()=>e.modelValue===!0&&W.value===!0&&e.reveal===!0),z=u(()=>"q-header q-layout__section--marginal "+($.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(W.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),A=u(()=>{const v=a.rows.value.top,c={};return v[0]==="l"&&a.left.space===!0&&(c[n.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),v[2]==="r"&&a.right.space===!0&&(c[n.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),c});function C(v,c){a.update("header",v,c)}function y(v,c){v.value!==c&&(v.value=c)}function B({height:v}){y(h,v),C("size",v)}function S(v){o.value===!0&&y(b,!0),s("focusin",v)}k(()=>e.modelValue,v=>{C("space",v),y(b,!0),a.animate()}),k(Q,v=>{C("offset",v)}),k(()=>e.reveal,v=>{v===!1&&y(b,e.modelValue)}),k(b,v=>{a.animate(),s("reveal",v)}),k(a.scroll,v=>{e.reveal===!0&&y(b,v.direction==="up"||v.position<=e.revealOffset||v.position-v.inflectionPoint<100)});const w={};return a.instances.header=w,e.modelValue===!0&&C("size",h.value),C("space",e.modelValue),C("offset",Q.value),$e(()=>{a.instances.header===w&&(a.instances.header=void 0,C("size",0),C("offset",0),C("space",!1))}),()=>{const v=bt(m.default,[]);return e.elevated===!0&&v.push(I("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),v.push(I(Ye,{debounce:0,onResize:B})),I("header",{class:z.value,style:A.value,onFocusin:S},v)}}});const it=150;var ea=fe({name:"QDrawer",inheritAttrs:!1,props:{...gt,...yt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...kt,"onLayout","miniState"],setup(e,{slots:m,emit:s,attrs:n}){const a=Ce(),{proxy:{$q:h}}=a,b=wt(e,h),{preventBodyScroll:$}=Tt(),{registerTimeout:Q,removeTimeout:W}=Xe(),o=ke(Je,N);if(o===N)return console.error("QDrawer needs to be child of QLayout"),N;let z,A=null,C;const y=p(e.behavior==="mobile"||e.behavior!=="desktop"&&o.totalWidth.value<=e.breakpoint),B=u(()=>e.mini===!0&&y.value!==!0),S=u(()=>B.value===!0?e.miniWidth:e.width),w=p(e.showIfAbove===!0&&y.value===!1?!0:e.modelValue===!0),v=u(()=>e.persistent!==!0&&(y.value===!0||ze.value===!0));function c(t,i){if(D(),t!==!1&&o.animate(),H(0),y.value===!0){const g=o.instances[ee.value];g!==void 0&&g.belowBreakpoint===!0&&g.hide(!1),x(1),o.isContainer.value!==!0&&$(!0)}else x(0),t!==!1&&he(!1);Q(()=>{t!==!1&&he(!0),i!==!0&&s("show",t)},it)}function V(t,i){E(),t!==!1&&o.animate(),x(0),H(J.value*S.value),be(),i!==!0?Q(()=>{s("hide",t)},it):W()}const{show:d,hide:_}=_t({showing:w,hideOnRouteChange:v,handleShow:c,handleHide:V}),{addToHistory:D,removeFromHistory:E}=qt(w,_,v),F={belowBreakpoint:y,hide:_},j=u(()=>e.side==="right"),J=u(()=>(h.lang.rtl===!0?-1:1)*(j.value===!0?1:-1)),Le=p(0),Y=p(!1),Z=p(!1),ie=p(S.value*J.value),ee=u(()=>j.value===!0?"left":"right"),ue=u(()=>w.value===!0&&y.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:S.value:0),te=u(()=>e.overlay===!0||e.miniToOverlay===!0||o.view.value.indexOf(j.value?"R":"L")!==-1||h.platform.is.ios===!0&&o.isContainer.value===!0),ae=u(()=>e.overlay===!1&&w.value===!0&&y.value===!1),ze=u(()=>e.overlay===!0&&w.value===!0&&y.value===!1),ne=u(()=>"fullscreen q-drawer__backdrop"+(w.value===!1&&Y.value===!1?" hidden":"")),le=u(()=>({backgroundColor:`rgba(0,0,0,${Le.value*.4})`})),we=u(()=>j.value===!0?o.rows.value.top[2]==="r":o.rows.value.top[0]==="l"),Be=u(()=>j.value===!0?o.rows.value.bottom[2]==="r":o.rows.value.bottom[0]==="l"),Me=u(()=>{const t={};return o.header.space===!0&&we.value===!1&&(te.value===!0?t.top=`${o.header.offset}px`:o.header.space===!0&&(t.top=`${o.header.size}px`)),o.footer.space===!0&&Be.value===!1&&(te.value===!0?t.bottom=`${o.footer.offset}px`:o.footer.space===!0&&(t.bottom=`${o.footer.size}px`)),t}),U=u(()=>{const t={width:`${S.value}px`,transform:`translateX(${ie.value}px)`};return y.value===!0?t:Object.assign(t,Me.value)}),De=u(()=>"q-drawer__content fit "+(o.isContainer.value!==!0?"scroll":"overflow-auto")),Oe=u(()=>`q-drawer q-drawer--${e.side}`+(Z.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(b.value===!0?" q-drawer--dark q-dark":"")+(Y.value===!0?" no-transition":w.value===!0?"":" q-layout--prevent-focus")+(y.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${B.value===!0?"mini":"standard"}`+(te.value===!0||ae.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(we.value===!0?" q-drawer--top-padding":""))),He=u(()=>{const t=h.lang.rtl===!0?e.side:ee.value;return[[je,xe,void 0,{[t]:!0,mouse:!0}]]}),Ie=u(()=>{const t=h.lang.rtl===!0?ee.value:e.side;return[[je,qe,void 0,{[t]:!0,mouse:!0}]]}),We=u(()=>{const t=h.lang.rtl===!0?ee.value:e.side;return[[je,qe,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function _e(){l(y,e.behavior==="mobile"||e.behavior!=="desktop"&&o.totalWidth.value<=e.breakpoint)}k(y,t=>{t===!0?(z=w.value,w.value===!0&&_(!1)):e.overlay===!1&&e.behavior!=="mobile"&&z!==!1&&(w.value===!0?(H(0),x(0),be()):d(!1))}),k(()=>e.side,(t,i)=>{o.instances[i]===F&&(o.instances[i]=void 0,o[i].space=!1,o[i].offset=0),o.instances[t]=F,o[t].size=S.value,o[t].space=ae.value,o[t].offset=ue.value}),k(o.totalWidth,()=>{(o.isContainer.value===!0||document.qScrollPrevented!==!0)&&_e()}),k(()=>e.behavior+e.breakpoint,_e),k(o.isContainer,t=>{w.value===!0&&$(t!==!0),t===!0&&_e()}),k(o.scrollbarWidth,()=>{H(w.value===!0?0:void 0)}),k(ue,t=>{K("offset",t)}),k(ae,t=>{s("onLayout",t),K("space",t)}),k(j,()=>{H()}),k(S,t=>{H(),r(e.miniToOverlay,t)}),k(()=>e.miniToOverlay,t=>{r(t,S.value)}),k(()=>h.lang.rtl,()=>{H()}),k(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Fe(),o.animate())}),k(B,t=>{s("miniState",t)});function H(t){t===void 0?at(()=>{t=w.value===!0?0:S.value,H(J.value*t)}):(o.isContainer.value===!0&&j.value===!0&&(y.value===!0||Math.abs(t)===S.value)&&(t+=J.value*o.scrollbarWidth.value),ie.value=t)}function x(t){Le.value=t}function he(t){const i=t===!0?"remove":o.isContainer.value!==!0?"add":"";i!==""&&document.body.classList[i]("q-body--drawer-toggle")}function Fe(){A!==null&&clearTimeout(A),a.proxy&&a.proxy.$el&&a.proxy.$el.classList.add("q-drawer--mini-animate"),Z.value=!0,A=setTimeout(()=>{A=null,Z.value=!1,a&&a.proxy&&a.proxy.$el&&a.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function xe(t){if(w.value!==!1)return;const i=S.value,g=Pe(t.distance.x,0,i);if(t.isFinal===!0){g>=Math.min(75,i)===!0?d():(o.animate(),x(0),H(J.value*i)),Y.value=!1;return}H((h.lang.rtl===!0?j.value!==!0:j.value)?Math.max(i-g,0):Math.min(0,g-i)),x(Pe(g/i,0,1)),t.isFirst===!0&&(Y.value=!0)}function qe(t){if(w.value!==!0)return;const i=S.value,g=t.direction===e.side,q=(h.lang.rtl===!0?g!==!0:g)?Pe(t.distance.x,0,i):0;if(t.isFinal===!0){Math.abs(q)<Math.min(75,i)===!0?(o.animate(),x(1),H(0)):_(),Y.value=!1;return}H(J.value*q),x(Pe(1-q/i,0,1)),t.isFirst===!0&&(Y.value=!0)}function be(){$(!1),he(!0)}function K(t,i){o.update(e.side,t,i)}function l(t,i){t.value!==i&&(t.value=i)}function r(t,i){K("size",t===!0?e.miniWidth:i)}return o.instances[e.side]=F,r(e.miniToOverlay,S.value),K("space",ae.value),K("offset",ue.value),e.showIfAbove===!0&&e.modelValue!==!0&&w.value===!0&&e["onUpdate:modelValue"]!==void 0&&s("update:modelValue",!0),ve(()=>{s("onLayout",ae.value),s("miniState",B.value),z=e.showIfAbove===!0;const t=()=>{(w.value===!0?c:V)(!1,!0)};if(o.totalWidth.value!==0){at(t);return}C=k(o.totalWidth,()=>{C(),C=void 0,w.value===!1&&e.showIfAbove===!0&&y.value===!1?d(!1):t()})}),$e(()=>{C!==void 0&&C(),A!==null&&(clearTimeout(A),A=null),w.value===!0&&be(),o.instances[e.side]===F&&(o.instances[e.side]=void 0,K("size",0),K("offset",0),K("space",!1))}),()=>{const t=[];y.value===!0&&(e.noSwipeOpen===!1&&t.push(pe(I("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),He.value)),t.push(nt("div",{ref:"backdrop",class:ne.value,style:le.value,"aria-hidden":"true",onClick:_},void 0,"backdrop",e.noSwipeBackdrop!==!0&&w.value===!0,()=>We.value)));const i=B.value===!0&&m.mini!==void 0,g=[I("div",{...n,key:""+i,class:[De.value,n.class]},i===!0?m.mini():Ve(m.default))];return e.elevated===!0&&w.value===!0&&g.push(I("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(nt("aside",{ref:"content",class:Oe.value,style:U.value},g,"contentclose",e.noSwipeClose!==!0&&y.value===!0,()=>Ie.value)),I("div",{class:"q-drawer-container"},t)}}});const ta={props:["link","icon","label"],setup(){return{activeClass:ke("activeClass")}}};function aa(e,m,s,n,a,h){return pe((M(),P(Ze,{"active-class":n.activeClass,clickable:"",to:s.link},{default:L(()=>[f(Te,{avatar:""},{default:L(()=>[f(ge,{name:s.icon},null,8,["name"])]),_:1}),f(Te,null,{default:L(()=>[Se(G(s.label),1)]),_:1})]),_:1},8,["active-class","to"])),[[Qe]])}var na=me(ta,[["render",aa]]);const la={props:["link","label"],setup(){return{activeClass:ke("activeClass")}}};function oa(e,m,s,n,a,h){return pe((M(),P(Ze,{"active-class":n.activeClass,clickable:"","inset-level":1,to:s.link},{default:L(()=>[f(Te,null,{default:L(()=>[Se(G(s.label),1)]),_:1})]),_:1},8,["active-class","to"])),[[Qe]])}var ra=me(la,[["render",oa]]);const ia={name:"AppMenu",components:{MenuItem:na,SubmenuItem:ra},setup(){const e=et(),m=$t(),s=p("");tt("activeClass",s),p([]);const n=e.cookies.get(de.userType)==="1"?"/home":"/teacher/home";function a(){ye.value==="dark"?s.value="bg-blue-grey-8 text-grey-3":s.value="bg-teal-1 text-grey-8"}k(ye,a),m.checkHomeroomTeacher();const h=localStorage.getItem("grade_id");ve(()=>a());const b=e.cookies.get(de.userType)==="1"?"/app-settings":"/teacher/app-settings";return{isHomeroomTeacher:u(()=>m.isHomeroomTeacher),dashboardLink:n,activeClass:s,conf:de,gradeId:h,appSettingsLink:b}}},ua={key:2},sa={key:4};function ca(e,m,s,n,a,h){const b=se("menu-item"),$=se("submenu-item");return M(),P(Ct,{class:"menu-list",style:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},{default:L(()=>[f(ut,{padding:""},{default:L(()=>[e.$q.screen.gt.sm?(M(),P(b,{key:0,icon:"o_home",label:e.$t("menu_dashboard"),link:n.dashboardLink},null,8,["label","link"])):R("",!0),e.$q.cookies.get(n.conf.userType)==="1"?(M(),P(Ke,{key:1,"expand-separator":"",icon:"o_inventory_2",label:"Data","default-opened":e.$q.screen.lt.sm},{default:L(()=>[f($,{label:e.$t("menu_parent"),link:"/parent"},null,8,["label"]),f($,{label:e.$t("menu_siswa"),link:"/student"},null,8,["label"]),f($,{label:e.$t("menu_pegawai"),link:"/employee"},null,8,["label"]),f($,{label:e.$t("menu_kelas"),link:"/class"},null,8,["label"]),f($,{label:e.$t("menu_ruang"),link:"/rooms"},null,8,["label"]),f($,{label:e.$t("menu_mapel"),link:"/lesson"},null,8,["label"])]),_:1},8,["default-opened"])):R("",!0),e.$q.cookies.get(n.conf.userType)==="1"?(M(),Ge("div",ua,[e.$q.screen.gt.sm?(M(),P(b,{key:0,icon:"list",label:e.$t("menu_jadwal"),link:"/schedules"},null,8,["label"])):R("",!0),e.$q.screen.gt.sm?(M(),P(b,{key:1,icon:"task_alt",label:e.$t("menu_kehadiran"),link:"/presence"},null,8,["label"])):R("",!0),e.$q.screen.gt.sm?(M(),P(b,{key:2,icon:"today",label:e.$t("menu_agenda"),link:"/agenda"},null,8,["label"])):R("",!0)])):R("",!0),e.$q.cookies.get(n.conf.userType)==="2"&&e.$q.screen.gt.sm?(M(),P(b,{key:3,icon:"o_book",label:e.$t("menu_jadwal_guru"),link:"/teacher/presence"},null,8,["label"])):R("",!0),(e.$q.cookies.get(n.conf.userType)==="2"||e.$q.cookies.get(n.conf.userType)==="0")&&e.$q.screen.gt.sm?(M(),Ge("div",sa,[f(b,{icon:"today",label:e.$t("menu_agenda"),link:"/teacher/agenda"},null,8,["label"])])):R("",!0),e.$q.screen.gt.sm?(M(),P(b,{key:5,icon:"list_alt",label:e.$t("menu_post"),link:"/post"},null,8,["label"])):R("",!0),e.$q.cookies.get(n.conf.userType)==="2"&&n.isHomeroomTeacher?(M(),P(Ke,{key:6,"expand-separator":"",icon:"o_summarize",label:e.$t("laporan"),"default-opened":e.$q.screen.lt.sm},{default:L(()=>[f($,{label:e.$t("absensi_laporan_harian"),link:"/teacher/daily-report"},null,8,["label"]),f($,{label:e.$t("absensi_rekap_bulanan"),link:`/teacher/monthly-summary/${n.gradeId}`},null,8,["label","link"]),f($,{label:e.$t("absensi_rekap_semester"),link:`/teacher/period-summary/${n.gradeId}`},null,8,["label","link"])]),_:1},8,["label","default-opened"])):R("",!0),f(Ke,{"expand-separator":"",icon:"o_settings",label:e.$t("menu_pengaturan"),"default-opened":e.$q.screen.lt.sm},{default:L(()=>[e.$q.cookies.get(n.conf.userType)==="1"?(M(),P($,{key:0,label:e.$t("menu_pengguna"),link:"/users"},null,8,["label"])):R("",!0),f($,{label:e.$t("menu_aplikasi"),link:n.appSettingsLink},null,8,["label","link"]),e.$q.cookies.get(n.conf.userType)==="1"?(M(),P($,{key:1,label:e.$t("app_report_title"),link:"/report-settings"},null,8,["label"])):R("",!0)]),_:1},8,["label","default-opened"])]),_:1})]),_:1})}var da=me(ia,[["render",ca]]);const va={name:"SubscriptionWarning",setup(){const e=p({});return ve(()=>{pt.get("get-subscription-warning",{headers:{Authorization:st}}).then(m=>{e.value=m.data}).catch(m=>console.log(m))}),{subs:e}}},fa={key:0,class:"q-px-md q-pt-md q-gutter-sm"},ma={class:"q-mt-md"};function ha(e,m,s,n,a,h){return n.subs.left<=7?(M(),Ge("div",fa,[f(Gt,{rounded:"",dense:"","inline-actions":"",class:"bg-negative text-white"},{default:L(()=>[ce("p",ma,[ce("strong",null,G(e.$t("peringatan")),1),Se(" "+G(n.subs.text)+" "+G(n.subs.date)+". ",1)])]),_:1})])):R("",!0)}var ba=me(va,[["render",ha]]);const ga={props:["link","icon","label"],setup(){return{accountMenu:u(()=>ye.value==="dark"?"account-menu-item-dark":"")}}};function ya(e,m,s,n,a,h){return pe((M(),P(Ze,{clickable:"",class:Re(["q-pr-xl",n.accountMenu]),to:s.link},{default:L(()=>[f(Te,{avatar:""},{default:L(()=>[f(ge,{name:s.icon},null,8,["name"])]),_:1}),f(Te,null,{default:L(()=>[Se(G(s.label),1)]),_:1})]),_:1},8,["class","to"])),[[Qe],[St]])}var ka=me(ga,[["render",ya]]);let wa=0;const _a=["click","keydown"],qa={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${wa++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Ta(e,m,s,n){const a=ke(ct,N);if(a===N)return console.error("QTab/QRouteTab component needs to be child of QTabs"),N;const{proxy:h}=Ce(),b=p(null),$=p(null),Q=p(null),W=u(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),o=u(()=>a.currentModel.value===e.name),z=u(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(o.value===!0?" q-tab--active"+(a.tabProps.value.activeClass?" "+a.tabProps.value.activeClass:"")+(a.tabProps.value.activeColor?` text-${a.tabProps.value.activeColor}`:"")+(a.tabProps.value.activeBgColor?` bg-${a.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&a.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||a.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(n!==void 0?n.linkClass.value:"")),A=u(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(a.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),C=u(()=>e.disable===!0||a.hasFocus.value===!0||o.value===!1&&a.hasActiveTab.value===!0?-1:e.tabindex||0);function y(c,V){if(V!==!0&&b.value!==null&&b.value.focus(),e.disable===!0){n!==void 0&&n.hasRouterLink.value===!0&&lt(c);return}if(n===void 0){a.updateModel({name:e.name}),s("click",c);return}if(n.hasRouterLink.value===!0){const d=(_={})=>{let D;const E=_.to===void 0||Mt(_.to,e.to)===!0?a.avoidRouteWatcher=It():null;return n.navigateToRouterLink(c,{..._,returnRouterError:!0}).catch(F=>{D=F}).then(F=>{if(E===a.avoidRouteWatcher&&(a.avoidRouteWatcher=!1,D===void 0&&(F===void 0||F.message!==void 0&&F.message.startsWith("Avoided redundant navigation")===!0)&&a.updateModel({name:e.name})),_.returnRouterError===!0)return D!==void 0?Promise.reject(D):F})};s("click",c,d),c.defaultPrevented!==!0&&d();return}s("click",c)}function B(c){Lt(c,[13,32])?y(c,!0):Bt(c)!==!0&&c.keyCode>=35&&c.keyCode<=40&&c.altKey!==!0&&c.metaKey!==!0&&a.onKbdNavigate(c.keyCode,h.$el)===!0&&lt(c),s("keydown",c)}function S(){const c=a.tabProps.value.narrowIndicator,V=[],d=I("div",{ref:Q,class:["q-tab__indicator",a.tabProps.value.indicatorClass]});e.icon!==void 0&&V.push(I(ge,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&V.push(I("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&V.push(e.alertIcon!==void 0?I(ge,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):I("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),c===!0&&V.push(d);const _=[I("div",{class:"q-focus-helper",tabindex:-1,ref:b}),I("div",{class:A.value},dt(m.default,V))];return c===!1&&_.push(d),_}const w={name:u(()=>e.name),rootRef:$,tabIndicatorRef:Q,routeData:n};$e(()=>{a.unregisterTab(w)}),ve(()=>{a.registerTab(w)});function v(c,V){const d={ref:$,class:z.value,tabindex:C.value,role:"tab","aria-selected":o.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:y,onKeydown:B,...V};return pe(I(c,d,S()),[[Qe,W.value]])}return{renderTab:v,$tabs:a}}var re=fe({name:"QRouteTab",props:{...Pt,...qa},emits:_a,setup(e,{slots:m,emit:s}){const n=Rt({useDisableForRouterLinkProps:!1}),{renderTab:a,$tabs:h}=Ta(e,m,s,{exact:u(()=>e.exact),...n});return k(()=>`${e.name} | ${e.exact} | ${(n.resolvedLink.value||{}).href}`,()=>{h.verifyRouteModel()}),()=>a(n.linkTag.value,n.linkAttrs.value)}});function $a(e,m,s){const n=s===!0?["left","right"]:["top","bottom"];return`absolute-${m===!0?n[0]:n[1]}${e?` text-${e}`:""}`}const Ca=["left","center","right","justify"];var pa=fe({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Ca.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:m,emit:s}){const{proxy:n}=Ce(),{$q:a}=n,{registerTick:h}=Ue(),{registerTick:b}=Ue(),{registerTick:$}=Ue(),{registerTimeout:Q,removeTimeout:W}=Xe(),{registerTimeout:o,removeTimeout:z}=Xe(),A=p(null),C=p(null),y=p(e.modelValue),B=p(!1),S=p(!0),w=p(!1),v=p(!1),c=[],V=p(0),d=p(!1);let _=null,D=null,E;const F=u(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:$a(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),j=u(()=>{const l=V.value,r=y.value;for(let t=0;t<l;t++)if(c[t].name.value===r)return!0;return!1}),J=u(()=>`q-tabs__content--align-${B.value===!0?"left":v.value===!0?"justify":e.align}`),Le=u(()=>`q-tabs row no-wrap items-center q-tabs--${B.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),Y=u(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+J.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),Z=u(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),ie=u(()=>e.vertical!==!0&&a.lang.rtl===!0),ee=u(()=>At===!1&&ie.value===!0);k(ie,le),k(()=>e.modelValue,l=>{ue({name:l,setCurrent:!0,skipEmit:!0})}),k(()=>e.outsideArrows,te);function ue({name:l,setCurrent:r,skipEmit:t}){y.value!==l&&(t!==!0&&e["onUpdate:modelValue"]!==void 0&&s("update:modelValue",l),(r===!0||e["onUpdate:modelValue"]===void 0)&&(ze(y.value,l),y.value=l))}function te(){h(()=>{ae({width:A.value.offsetWidth,height:A.value.offsetHeight})})}function ae(l){if(Z.value===void 0||C.value===null)return;const r=l[Z.value.container],t=Math.min(C.value[Z.value.scroll],Array.prototype.reduce.call(C.value.children,(g,q)=>g+(q[Z.value.content]||0),0)),i=r>0&&t>r;B.value=i,i===!0&&b(le),v.value=r<parseInt(e.breakpoint,10)}function ze(l,r){const t=l!=null&&l!==""?c.find(g=>g.name.value===l):null,i=r!=null&&r!==""?c.find(g=>g.name.value===r):null;if(t&&i){const g=t.tabIndicatorRef.value,q=i.tabIndicatorRef.value;_!==null&&(clearTimeout(_),_=null),g.style.transition="none",g.style.transform="none",q.style.transition="none",q.style.transform="none";const T=g.getBoundingClientRect(),O=q.getBoundingClientRect();q.style.transform=e.vertical===!0?`translate3d(0,${T.top-O.top}px,0) scale3d(1,${O.height?T.height/O.height:1},1)`:`translate3d(${T.left-O.left}px,0,0) scale3d(${O.width?T.width/O.width:1},1,1)`,$(()=>{_=setTimeout(()=>{_=null,q.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",q.style.transform="none"},70)})}i&&B.value===!0&&ne(i.rootRef.value)}function ne(l){const{left:r,width:t,top:i,height:g}=C.value.getBoundingClientRect(),q=l.getBoundingClientRect();let T=e.vertical===!0?q.top-i:q.left-r;if(T<0){C.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(T),le();return}T+=e.vertical===!0?q.height-g:q.width-t,T>0&&(C.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(T),le())}function le(){const l=C.value;if(l===null)return;const r=l.getBoundingClientRect(),t=e.vertical===!0?l.scrollTop:Math.abs(l.scrollLeft);ie.value===!0?(S.value=Math.ceil(t+r.width)<l.scrollWidth-1,w.value=t>0):(S.value=t>0,w.value=e.vertical===!0?Math.ceil(t+r.height)<l.scrollHeight:Math.ceil(t+r.width)<l.scrollWidth)}function we(l){D!==null&&clearInterval(D),D=setInterval(()=>{He(l)===!0&&U()},5)}function Be(){we(ee.value===!0?Number.MAX_SAFE_INTEGER:0)}function Me(){we(ee.value===!0?0:Number.MAX_SAFE_INTEGER)}function U(){D!==null&&(clearInterval(D),D=null)}function De(l,r){const t=Array.prototype.filter.call(C.value.children,O=>O===r||O.matches&&O.matches(".q-tab.q-focusable")===!0),i=t.length;if(i===0)return;if(l===36)return ne(t[0]),t[0].focus(),!0;if(l===35)return ne(t[i-1]),t[i-1].focus(),!0;const g=l===(e.vertical===!0?38:37),q=l===(e.vertical===!0?40:39),T=g===!0?-1:q===!0?1:void 0;if(T!==void 0){const O=ie.value===!0?-1:1,X=t.indexOf(r)+T*O;return X>=0&&X<i&&(ne(t[X]),t[X].focus({preventScroll:!0})),!0}}const Oe=u(()=>ee.value===!0?{get:l=>Math.abs(l.scrollLeft),set:(l,r)=>{l.scrollLeft=-r}}:e.vertical===!0?{get:l=>l.scrollTop,set:(l,r)=>{l.scrollTop=r}}:{get:l=>l.scrollLeft,set:(l,r)=>{l.scrollLeft=r}});function He(l){const r=C.value,{get:t,set:i}=Oe.value;let g=!1,q=t(r);const T=l<q?-1:1;return q+=T*5,q<0?(g=!0,q=0):(T===-1&&q<=l||T===1&&q>=l)&&(g=!0,q=l),i(r,q),le(),g}function Ie(l,r){for(const t in l)if(l[t]!==r[t])return!1;return!0}function We(){let l=null,r={matchedLen:0,queryDiff:9999,hrefLen:0};const t=c.filter(T=>T.routeData!==void 0&&T.routeData.hasRouterLink.value===!0),{hash:i,query:g}=n.$route,q=Object.keys(g).length;for(const T of t){const O=T.routeData.exact.value===!0;if(T.routeData[O===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:X,query:Ee,matched:mt,href:ht}=T.routeData.resolvedLink.value,Ne=Object.keys(Ee).length;if(O===!0){if(X!==i||Ne!==q||Ie(g,Ee)===!1)continue;l=T.name.value;break}if(X!==""&&X!==i||Ne!==0&&Ie(Ee,g)===!1)continue;const oe={matchedLen:mt.length,queryDiff:q-Ne,hrefLen:ht.length-X.length};if(oe.matchedLen>r.matchedLen){l=T.name.value,r=oe;continue}else if(oe.matchedLen!==r.matchedLen)continue;if(oe.queryDiff<r.queryDiff)l=T.name.value,r=oe;else if(oe.queryDiff!==r.queryDiff)continue;oe.hrefLen>r.hrefLen&&(l=T.name.value,r=oe)}l===null&&c.some(T=>T.routeData===void 0&&T.name.value===y.value)===!0||ue({name:l,setCurrent:!0})}function _e(l){if(W(),d.value!==!0&&A.value!==null&&l.target&&typeof l.target.closest=="function"){const r=l.target.closest(".q-tab");r&&A.value.contains(r)===!0&&(d.value=!0,B.value===!0&&ne(r))}}function H(){Q(()=>{d.value=!1},30)}function x(){qe.avoidRouteWatcher===!1?o(We):z()}function he(){if(E===void 0){const l=k(()=>n.$route.fullPath,x);E=()=>{l(),E=void 0}}}function Fe(l){c.push(l),V.value++,te(),l.routeData===void 0||n.$route===void 0?o(()=>{if(B.value===!0){const r=y.value,t=r!=null&&r!==""?c.find(i=>i.name.value===r):null;t&&ne(t.rootRef.value)}}):(he(),l.routeData.hasRouterLink.value===!0&&x())}function xe(l){c.splice(c.indexOf(l),1),V.value--,te(),E!==void 0&&l.routeData!==void 0&&(c.every(r=>r.routeData===void 0)===!0&&E(),x())}const qe={currentModel:y,tabProps:F,hasFocus:d,hasActiveTab:j,registerTab:Fe,unregisterTab:xe,verifyRouteModel:x,updateModel:ue,onKbdNavigate:De,avoidRouteWatcher:!1};tt(ct,qe);function be(){_!==null&&clearTimeout(_),U(),E!==void 0&&E()}let K;return $e(be),Vt(()=>{K=E!==void 0,be()}),Qt(()=>{K===!0&&he(),te()}),()=>I("div",{ref:A,class:Le.value,role:"tablist",onFocusin:_e,onFocusout:H},[I(Ye,{onResize:ae}),I("div",{ref:C,class:Y.value,onScroll:le},Ve(m.default)),I(ge,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(S.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||a.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Be,onTouchstartPassive:Be,onMouseupPassive:U,onMouseleavePassive:U,onTouchendPassive:U}),I(ge,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(w.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||a.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Me,onTouchstartPassive:Me,onMouseupPassive:U,onMouseleavePassive:U,onTouchendPassive:U})])}}),Sa=fe({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:m,emit:s}){const{proxy:{$q:n}}=Ce(),a=ke(Je,N);if(a===N)return console.error("QFooter needs to be child of QLayout"),N;const h=p(parseInt(e.heightHint,10)),b=p(!0),$=p(zt.value===!0||a.isContainer.value===!0?0:window.innerHeight),Q=u(()=>e.reveal===!0||a.view.value.indexOf("F")!==-1||n.platform.is.ios&&a.isContainer.value===!0),W=u(()=>a.isContainer.value===!0?a.containerHeight.value:$.value),o=u(()=>{if(e.modelValue!==!0)return 0;if(Q.value===!0)return b.value===!0?h.value:0;const d=a.scroll.value.position+W.value+h.value-a.height.value;return d>0?d:0}),z=u(()=>e.modelValue!==!0||Q.value===!0&&b.value!==!0),A=u(()=>e.modelValue===!0&&z.value===!0&&e.reveal===!0),C=u(()=>"q-footer q-layout__section--marginal "+(Q.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(z.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(Q.value!==!0?" hidden":""):"")),y=u(()=>{const d=a.rows.value.bottom,_={};return d[0]==="l"&&a.left.space===!0&&(_[n.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),d[2]==="r"&&a.right.space===!0&&(_[n.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),_});function B(d,_){a.update("footer",d,_)}function S(d,_){d.value!==_&&(d.value=_)}function w({height:d}){S(h,d),B("size",d)}function v(){if(e.reveal!==!0)return;const{direction:d,position:_,inflectionPoint:D}=a.scroll.value;S(b,d==="up"||_-D<100||a.height.value-W.value-_-h.value<300)}function c(d){A.value===!0&&S(b,!0),s("focusin",d)}k(()=>e.modelValue,d=>{B("space",d),S(b,!0),a.animate()}),k(o,d=>{B("offset",d)}),k(()=>e.reveal,d=>{d===!1&&S(b,e.modelValue)}),k(b,d=>{a.animate(),s("reveal",d)}),k([h,a.scroll,a.height],v),k(()=>n.screen.height,d=>{a.isContainer.value!==!0&&S($,d)});const V={};return a.instances.footer=V,e.modelValue===!0&&B("size",h.value),B("space",e.modelValue),B("offset",o.value),$e(()=>{a.instances.footer===V&&(a.instances.footer=void 0,B("size",0),B("offset",0),B("space",!1))}),()=>{const d=dt(m.default,[I(Ye,{debounce:0,onResize:w})]);return e.elevated===!0&&d.push(I("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),I("footer",{class:C.value,style:y.value,onFocusin:c},d)}}});const La={name:"MobileMenu",setup(){et();const e=p(ot);return ve(Ae),k(ye,Ae),{headerColor:ye,header:vt,elevated:ft,conf:de,dashboardLink:ot,activeMobileMenu:e}}};function Ba(e,m,s,n,a,h){return e.$q.screen.lt.sm?(M(),P(Sa,{key:0,elevated:n.elevated,class:Re(n.header)},{default:L(()=>[f(pa,{align:"center",modelValue:n.activeMobileMenu,"onUpdate:modelValue":m[0]||(m[0]=b=>n.activeMobileMenu=b),class:"text-white"},{default:L(()=>[f(re,{name:n.dashboardLink,icon:"o_home",to:n.dashboardLink},null,8,["name","to"]),e.$q.cookies.get(n.conf.userType)==="1"?(M(),P(re,{key:0,to:"/schedules",name:"schedules",icon:"list"})):R("",!0),e.$q.cookies.get(n.conf.userType)==="2"?(M(),P(re,{key:1,to:"/teacher/presence",name:"schedules",icon:"list"})):R("",!0),e.$q.cookies.get(n.conf.userType)==="2"||e.$q.cookies.get(n.conf.userType)==="0"?(M(),P(re,{key:2,to:"/teacher/agenda",name:"agenda",icon:"today"})):R("",!0),e.$q.cookies.get(n.conf.userType)==="2"||e.$q.cookies.get(n.conf.userType)==="0"?(M(),P(re,{key:3,to:"/post",name:"post",icon:"list_alt"})):R("",!0),e.$q.cookies.get(n.conf.userType)==="1"?(M(),P(re,{key:4,to:"/presence",name:"presence",icon:"task_alt"})):R("",!0),e.$q.cookies.get(n.conf.userType)==="1"?(M(),P(re,{key:5,to:"/agenda",name:"agenda",icon:"today"})):R("",!0),f(re,{to:"/manage-account",name:"account",icon:"account_circle"})]),_:1},8,["modelValue"])]),_:1},8,["elevated","class"])):R("",!0)}var Ma=me(La,[["render",Ba]]);const Ia=Dt({name:"MainLayout",components:{AppMenu:da,SubscriptionWarning:ba,OtherActions:ka,MobileMenu:Ma},setup(){const e=et(),m=`${jt()}images/bg/wp-4.jpg`;ve(Ae),ve(Ot),k(ye,Ae);const s=p(!1),n=()=>{s.value=!1},a=()=>{Kt.get(`${de.coreAPI}logout`,{headers:{Authorization:st}}).then(({data:h})=>{h.status==="OK"?(e.cookies.remove(de.cookieName,{path:"/"}),e.cookies.remove(de.userType,{path:"/"}),localStorage.removeItem("class"),localStorage.removeItem("date"),localStorage.removeItem("grade_id"),localStorage.removeItem("lesson"),window.location.reload()):console.warn(h.msg)})};return tt("logout",a),{logout:a,userMenu:Ht,elevated:ft,drawer:p(!1),userAction:s,hideUserAction:n,avatarBg:m,header:vt,pengguna:Wt,menuWidth:Ft}}}),Pa={class:"absolute-bottom bg-transparent"},Ra=ce("img",{src:"boy-avatar.png"},null,-1),Aa={class:"text-weight-bold"},Va={class:"mobile-hide"},Qa={class:"mobile-only"};function za(e,m,s,n,a,h){const b=se("other-actions"),$=se("mobile-menu"),Q=se("app-menu"),W=se("subscription-warning"),o=se("router-view");return M(),P(Xt,{view:"lHh Lpr lFf"},{default:L(()=>[f(Zt,{elevated:e.elevated,class:Re(e.header)},{default:L(()=>[f(Yt,null,{default:L(()=>[f(rt,{flat:"",onClick:m[0]||(m[0]=z=>e.drawer=!e.drawer),round:"",dense:"",icon:"menu"}),f(Jt,null,{default:L(()=>[Se("ActudentV2 ")]),_:1}),f(rt,{flat:"",round:"",dense:"",icon:"account_circle",class:"mobile-hide"},{default:L(()=>[f(xt,{class:Re(e.userMenu)},{default:L(()=>[f(ut,{separator:""},{default:L(()=>[f(b,{icon:"o_manage_accounts",label:e.$t("navbar_profil"),link:"/account"},null,8,["label"]),f(b,{icon:"o_dns",label:e.$t("session_title"),link:"/sessions"},null,8,["label"]),f(b,{icon:"logout",label:e.$t("navbar_keluar"),onClick:e.logout},null,8,["label","onClick"])]),_:1})]),_:1},8,["class"])]),_:1})]),_:1})]),_:1},8,["elevated","class"]),f($),f(ea,{modelValue:e.drawer,"onUpdate:modelValue":m[1]||(m[1]=z=>e.drawer=z),"show-if-above":"",width:e.menuWidth(),breakpoint:450},{default:L(()=>[f(Q),f(Et,{class:"absolute-top",src:e.avatarBg,style:{height:"150px"}},{default:L(()=>[ce("div",Pa,[f(Nt,{size:"56px",class:"q-mb-sm"},{default:L(()=>[Ra]),_:1}),ce("div",Aa,G(e.pengguna.user_name),1),ce("div",Va,G(e.$trim(e.pengguna.user_email,25)),1),ce("div",Qa,G(e.$trim(e.pengguna.user_email,30)),1)])]),_:1},8,["src"])]),_:1},8,["modelValue","width"]),f(Ut,null,{default:L(()=>[f(W),f(o)]),_:1})]),_:1})}var Wa=me(Ia,[["render",za]]);export{Wa as default};
