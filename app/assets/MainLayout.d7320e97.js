import{y as ee,c as u,D as Q,U as me,Y as ae,Z as P,$ as Te,C as _,w as b,S as Be,a0 as Je,a1 as Ke,E as Se,a2 as Xe,z as Ye,a3 as Ze,B as Ge,a4 as ea,a5 as aa,a6 as ta,a7 as de,a8 as we,F as Z,a9 as R,aa as te,ab as $e,ac as la,_ as x,ad as be,o as $,k as S,g as d,f as l,M as E,i as Qe,N as J,t as C,L as he,a as Le,ae as na,af as oa,b as j,ag as G,ah as H,ai as Me,aj as ve,J as O,d as fe,ak as ra,al as sa,am as ia,p as z,an as ua,ao as ca,ap as da,aq as va,ar as fa,n as ma,s as qe,as as ba,q as ha,at as ga}from"./index.f2455989.js";import{Q as ka}from"./QImg.3795cd0a.js";import{Q as pa,a as ya}from"./QLayout.aab0f75d.js";import{Q as _a}from"./QBanner.0b262a11.js";var wa=ee({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:c}){const n=u(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>Q("div",{class:n.value},me(c.default))}}),$a=ee({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:c}){const n=u(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>Q("div",{class:n.value,role:"toolbar"},me(c.default))}}),qa=ee({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:c,emit:n}){const{proxy:{$q:s}}=Se(),o=ae(Te,P);if(o===P)return console.error("QHeader needs to be child of QLayout"),P;const v=_(parseInt(e.heightHint,10)),h=_(!0),g=u(()=>e.reveal===!0||o.view.value.indexOf("H")>-1||s.platform.is.ios&&o.isContainer.value===!0),I=u(()=>{if(e.modelValue!==!0)return 0;if(g.value===!0)return h.value===!0?v.value:0;const r=v.value-o.scroll.value.position;return r>0?r:0}),A=u(()=>e.modelValue!==!0||g.value===!0&&h.value!==!0),t=u(()=>e.modelValue===!0&&A.value===!0&&e.reveal===!0),N=u(()=>"q-header q-layout__section--marginal "+(g.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(A.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),T=u(()=>{const r=o.rows.value.top,q={};return r[0]==="l"&&o.left.space===!0&&(q[s.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),r[2]==="r"&&o.right.space===!0&&(q[s.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),q});function k(r,q){o.update("header",r,q)}function m(r,q){r.value!==q&&(r.value=q)}function V({height:r}){m(v,r),k("size",r)}function p(r){t.value===!0&&m(h,!0),n("focusin",r)}b(()=>e.modelValue,r=>{k("space",r),m(h,!0),o.animate()}),b(I,r=>{k("offset",r)}),b(()=>e.reveal,r=>{r===!1&&m(h,e.modelValue)}),b(h,r=>{o.animate(),n("reveal",r)}),b(o.scroll,r=>{e.reveal===!0&&m(h,r.direction==="up"||r.position<=e.revealOffset||r.position-r.inflectionPoint<100)});const f={};return o.instances.header=f,e.modelValue===!0&&k("size",v.value),k("space",e.modelValue),k("offset",I.value),Be(()=>{o.instances.header===f&&(o.instances.header=void 0,k("size",0),k("offset",0),k("space",!1))}),()=>{const r=Je(c.default,[]);return e.elevated===!0&&r.push(Q("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),r.push(Q(Ke,{debounce:0,onResize:V})),Q("header",{class:N.value,style:T.value,onFocusin:p},r)}}});const Ce=150;var Ca=ee({name:"QDrawer",inheritAttrs:!1,props:{...Xe,...Ye,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ze,"onLayout","miniState"],setup(e,{slots:c,emit:n,attrs:s}){const o=Se(),{proxy:{$q:v}}=o,h=Ge(e,v),{preventBodyScroll:g}=la(),{registerTimeout:I,removeTimeout:A}=ea(),t=ae(Te,P);if(t===P)return console.error("QDrawer needs to be child of QLayout"),P;let N,T=null,k;const m=_(e.behavior==="mobile"||e.behavior!=="desktop"&&t.totalWidth.value<=e.breakpoint),V=u(()=>e.mini===!0&&m.value!==!0),p=u(()=>V.value===!0?e.miniWidth:e.width),f=_(e.showIfAbove===!0&&m.value===!1?!0:e.modelValue===!0),r=u(()=>e.persistent!==!0&&(m.value===!0||Oe.value===!0));function q(a,i){if(Ie(),a!==!1&&t.animate(),w(0),m.value===!0){const y=t.instances[X.value];y!==void 0&&y.belowBreakpoint===!0&&y.hide(!1),L(1),t.isContainer.value!==!0&&g(!0)}else L(0),a!==!1&&ie(!1);I(()=>{a!==!1&&ie(!0),i!==!0&&n("show",a)},Ce)}function ge(a,i){Ve(),a!==!1&&t.animate(),L(0),w(D.value*p.value),ue(),i!==!0?I(()=>{n("hide",a)},Ce):A()}const{show:le,hide:F}=aa({showing:f,hideOnRouteChange:r,handleShow:q,handleHide:ge}),{addToHistory:Ie,removeFromHistory:Ve}=ta(f,F,r),K={belowBreakpoint:m,hide:F},B=u(()=>e.side==="right"),D=u(()=>(v.lang.rtl===!0?-1:1)*(B.value===!0?1:-1)),ke=_(0),W=_(!1),ne=_(!1),pe=_(p.value*D.value),X=u(()=>B.value===!0?"left":"right"),oe=u(()=>f.value===!0&&m.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:p.value:0),re=u(()=>e.overlay===!0||e.miniToOverlay===!0||t.view.value.indexOf(B.value?"R":"L")>-1||v.platform.is.ios===!0&&t.isContainer.value===!0),U=u(()=>e.overlay===!1&&f.value===!0&&m.value===!1),Oe=u(()=>e.overlay===!0&&f.value===!0&&m.value===!1),ze=u(()=>"fullscreen q-drawer__backdrop"+(f.value===!1&&W.value===!1?" hidden":"")),Ae=u(()=>({backgroundColor:`rgba(0,0,0,${ke.value*.4})`})),ye=u(()=>B.value===!0?t.rows.value.top[2]==="r":t.rows.value.top[0]==="l"),De=u(()=>B.value===!0?t.rows.value.bottom[2]==="r":t.rows.value.bottom[0]==="l"),We=u(()=>{const a={};return t.header.space===!0&&ye.value===!1&&(re.value===!0?a.top=`${t.header.offset}px`:t.header.space===!0&&(a.top=`${t.header.size}px`)),t.footer.space===!0&&De.value===!1&&(re.value===!0?a.bottom=`${t.footer.offset}px`:t.footer.space===!0&&(a.bottom=`${t.footer.size}px`)),a}),He=u(()=>{const a={width:`${p.value}px`,transform:`translateX(${pe.value}px)`};return m.value===!0?a:Object.assign(a,We.value)}),Pe=u(()=>"q-drawer__content fit "+(t.isContainer.value!==!0?"scroll":"overflow-auto")),xe=u(()=>`q-drawer q-drawer--${e.side}`+(ne.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(h.value===!0?" q-drawer--dark q-dark":"")+(W.value===!0?" no-transition":f.value===!0?"":" q-layout--prevent-focus")+(m.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${V.value===!0?"mini":"standard"}`+(re.value===!0||U.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(ye.value===!0?" q-drawer--top-padding":""))),Ne=u(()=>{const a=v.lang.rtl===!0?e.side:X.value;return[[de,Re,void 0,{[a]:!0,mouse:!0}]]}),Fe=u(()=>{const a=v.lang.rtl===!0?X.value:e.side;return[[de,_e,void 0,{[a]:!0,mouse:!0}]]}),Ue=u(()=>{const a=v.lang.rtl===!0?X.value:e.side;return[[de,_e,void 0,{[a]:!0,mouse:!0,mouseAllDir:!0}]]});function se(){Ee(m,e.behavior==="mobile"||e.behavior!=="desktop"&&t.totalWidth.value<=e.breakpoint)}b(m,a=>{a===!0?(N=f.value,f.value===!0&&F(!1)):e.overlay===!1&&e.behavior!=="mobile"&&N!==!1&&(f.value===!0?(w(0),L(0),ue()):le(!1))}),b(()=>e.side,(a,i)=>{t.instances[i]===K&&(t.instances[i]=void 0,t[i].space=!1,t[i].offset=0),t.instances[a]=K,t[a].size=p.value,t[a].space=U.value,t[a].offset=oe.value}),b(t.totalWidth,()=>{(t.isContainer.value===!0||document.qScrollPrevented!==!0)&&se()}),b(()=>e.behavior+e.breakpoint,se),b(t.isContainer,a=>{f.value===!0&&g(a!==!0),a===!0&&se()}),b(t.scrollbarWidth,()=>{w(f.value===!0?0:void 0)}),b(oe,a=>{M("offset",a)}),b(U,a=>{n("onLayout",a),M("space",a)}),b(B,()=>{w()}),b(p,a=>{w(),ce(e.miniToOverlay,a)}),b(()=>e.miniToOverlay,a=>{ce(a,p.value)}),b(()=>v.lang.rtl,()=>{w()}),b(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(je(),t.animate())}),b(V,a=>{n("miniState",a)});function w(a){a===void 0?we(()=>{a=f.value===!0?0:p.value,w(D.value*a)}):(t.isContainer.value===!0&&B.value===!0&&(m.value===!0||Math.abs(a)===p.value)&&(a+=D.value*t.scrollbarWidth.value),pe.value=a)}function L(a){ke.value=a}function ie(a){const i=a===!0?"remove":t.isContainer.value!==!0?"add":"";i!==""&&document.body.classList[i]("q-body--drawer-toggle")}function je(){T!==null&&clearTimeout(T),o.proxy&&o.proxy.$el&&o.proxy.$el.classList.add("q-drawer--mini-animate"),ne.value=!0,T=setTimeout(()=>{T=null,ne.value=!1,o&&o.proxy&&o.proxy.$el&&o.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Re(a){if(f.value!==!1)return;const i=p.value,y=Z(a.distance.x,0,i);if(a.isFinal===!0){y>=Math.min(75,i)===!0?le():(t.animate(),L(0),w(D.value*i)),W.value=!1;return}w((v.lang.rtl===!0?B.value!==!0:B.value)?Math.max(i-y,0):Math.min(0,y-i)),L(Z(y/i,0,1)),a.isFirst===!0&&(W.value=!0)}function _e(a){if(f.value!==!0)return;const i=p.value,y=a.direction===e.side,Y=(v.lang.rtl===!0?y!==!0:y)?Z(a.distance.x,0,i):0;if(a.isFinal===!0){Math.abs(Y)<Math.min(75,i)===!0?(t.animate(),L(1),w(0)):F(),W.value=!1;return}w(D.value*Y),L(Z(1-Y/i,0,1)),a.isFirst===!0&&(W.value=!0)}function ue(){g(!1),ie(!0)}function M(a,i){t.update(e.side,a,i)}function Ee(a,i){a.value!==i&&(a.value=i)}function ce(a,i){M("size",a===!0?e.miniWidth:i)}return t.instances[e.side]=K,ce(e.miniToOverlay,p.value),M("space",U.value),M("offset",oe.value),e.showIfAbove===!0&&e.modelValue!==!0&&f.value===!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",!0),R(()=>{n("onLayout",U.value),n("miniState",V.value),N=e.showIfAbove===!0;const a=()=>{(f.value===!0?q:ge)(!1,!0)};if(t.totalWidth.value!==0){we(a);return}k=b(t.totalWidth,()=>{k(),k=void 0,f.value===!1&&e.showIfAbove===!0&&m.value===!1?le(!1):a()})}),Be(()=>{k!==void 0&&k(),T!==null&&(clearTimeout(T),T=null),f.value===!0&&ue(),t.instances[e.side]===K&&(t.instances[e.side]=void 0,M("size",0),M("offset",0),M("space",!1))}),()=>{const a=[];m.value===!0&&(e.noSwipeOpen===!1&&a.push(te(Q("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Ne.value)),a.push($e("div",{ref:"backdrop",class:ze.value,style:Ae.value,"aria-hidden":"true",onClick:F},void 0,"backdrop",e.noSwipeBackdrop!==!0&&f.value===!0,()=>Ue.value)));const i=V.value===!0&&c.mini!==void 0,y=[Q("div",{...s,key:""+i,class:[Pe.value,s.class]},i===!0?c.mini():me(c.default))];return e.elevated===!0&&f.value===!0&&y.push(Q("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push($e("aside",{ref:"content",class:xe.value,style:He.value},y,"contentclose",e.noSwipeClose!==!0&&m.value===!0,()=>Fe.value)),Q("div",{class:"q-drawer-container"},a)}}});const Ta={props:["link","icon","label"],setup(){return{activeClass:ae("activeClass")}}};function Ba(e,c,n,s,o,v){return te(($(),S(he,{"active-class":s.activeClass,clickable:"",to:n.link},{default:d(()=>[l(E,{avatar:""},{default:d(()=>[l(Qe,{name:n.icon},null,8,["name"])]),_:1}),l(E,null,{default:d(()=>[J(C(n.label),1)]),_:1})]),_:1},8,["active-class","to"])),[[be]])}var Sa=x(Ta,[["render",Ba]]);const Qa={props:["link","label"],setup(){return{activeClass:ae("activeClass")}}};function La(e,c,n,s,o,v){return te(($(),S(he,{"active-class":s.activeClass,clickable:"","inset-level":1,to:n.link},{default:d(()=>[l(E,null,{default:d(()=>[J(C(n.label),1)]),_:1})]),_:1},8,["active-class","to"])),[[be]])}var Ma=x(Qa,[["render",La]]);const Ia={name:"AppMenu",components:{MenuItem:Sa,SubmenuItem:Ma},setup(){const e=Le(),c=na(),n=_("");oa("activeClass",n),_([]);const s=e.cookies.get(j.userType)==="1"?"/home":"/teacher/home";function o(){G.value==="dark"?n.value="bg-blue-grey-8 text-grey-3":n.value="bg-teal-1 text-grey-8"}b(G,o),c.checkHomeroomTeacher();const v=localStorage.getItem("grade_id");R(()=>o());const h=e.cookies.get(j.userType)==="1"?"/app-settings":"/teacher/app-settings";return{isHomeroomTeacher:u(()=>c.isHomeroomTeacher),dashboardLink:s,activeClass:n,conf:j,gradeId:v,appSettingsLink:h}}},Va={key:1},Oa={key:3};function za(e,c,n,s,o,v){const h=H("menu-item"),g=H("submenu-item");return $(),S(ra,{class:"menu-list",style:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},{default:d(()=>[l(Me,{padding:""},{default:d(()=>[l(h,{icon:"o_home",label:e.$t("menu_dashboard"),link:s.dashboardLink},null,8,["label","link"]),e.$q.cookies.get(s.conf.userType)==="1"?($(),S(ve,{key:0,"expand-separator":"",icon:"o_inventory_2",label:"Data"},{default:d(()=>[l(g,{label:e.$t("menu_parent"),link:"/parent"},null,8,["label"]),l(g,{label:e.$t("menu_siswa"),link:"/student"},null,8,["label"]),l(g,{label:e.$t("menu_pegawai"),link:"/employee"},null,8,["label"]),l(g,{label:e.$t("menu_kelas"),link:"/class"},null,8,["label"]),l(g,{label:e.$t("menu_ruang"),link:"/rooms"},null,8,["label"]),l(g,{label:e.$t("menu_mapel"),link:"/lesson"},null,8,["label"])]),_:1})):O("",!0),e.$q.cookies.get(s.conf.userType)==="1"?($(),fe("div",Va,[l(h,{icon:"list",label:e.$t("menu_jadwal"),link:"/schedules"},null,8,["label"]),l(h,{icon:"task_alt",label:e.$t("menu_kehadiran"),link:"/presence"},null,8,["label"]),l(h,{icon:"today",label:e.$t("menu_agenda"),link:"/agenda"},null,8,["label"])])):O("",!0),e.$q.cookies.get(s.conf.userType)==="2"?($(),S(h,{key:2,icon:"o_book",label:e.$t("menu_jadwal_guru"),link:"/teacher/presence"},null,8,["label"])):O("",!0),e.$q.cookies.get(s.conf.userType)==="2"||e.$q.cookies.get(s.conf.userType)==="0"?($(),fe("div",Oa,[l(h,{icon:"today",label:e.$t("menu_agenda"),link:"/teacher/agenda"},null,8,["label"])])):O("",!0),e.$q.cookies.get(s.conf.userType)==="2"&&s.isHomeroomTeacher?($(),S(ve,{key:4,"expand-separator":"",icon:"o_summarize",label:e.$t("laporan")},{default:d(()=>[l(g,{label:e.$t("absensi_laporan_harian"),link:"/teacher/daily-report"},null,8,["label"]),l(g,{label:e.$t("absensi_rekap_bulanan"),link:`/teacher/monthly-summary/${s.gradeId}`},null,8,["label","link"]),l(g,{label:e.$t("absensi_rekap_semester"),link:`/teacher/period-summary/${s.gradeId}`},null,8,["label","link"])]),_:1},8,["label"])):O("",!0),l(ve,{"expand-separator":"",icon:"o_settings",label:e.$t("menu_pengaturan")},{default:d(()=>[e.$q.cookies.get(s.conf.userType)==="1"?($(),S(g,{key:0,label:e.$t("menu_pengguna"),link:"/users"},null,8,["label"])):O("",!0),l(g,{label:e.$t("menu_aplikasi"),link:s.appSettingsLink},null,8,["label","link"])]),_:1},8,["label"])]),_:1})]),_:1})}var Aa=x(Ia,[["render",za]]);const Da={name:"SubscriptionWarning",setup(){const e=_({});return R(()=>{sa.get("get-subscription-warning",{headers:{Authorization:ia}}).then(c=>{e.value=c.data}).catch(c=>console.log(c))}),{subs:e}}},Wa={key:0,class:"q-px-md q-pt-md q-gutter-sm"},Ha={class:"q-mt-md"};function Pa(e,c,n,s,o,v){return s.subs.left<=7?($(),fe("div",Wa,[l(_a,{rounded:"",dense:"","inline-actions":"",class:"bg-negative text-white"},{default:d(()=>[z("p",Ha,[z("strong",null,C(e.$t("peringatan")),1),J(" "+C(s.subs.text)+" "+C(s.subs.date)+". ",1)])]),_:1})])):O("",!0)}var xa=x(Da,[["render",Pa]]);const Na={props:["link","icon","label"],setup(){}};function Fa(e,c,n,s,o,v){return te(($(),S(he,{clickable:"",class:"q-pr-xl",to:n.link},{default:d(()=>[l(E,{avatar:""},{default:d(()=>[l(Qe,{name:n.icon},null,8,["name"])]),_:1}),l(E,null,{default:d(()=>[J(C(n.label),1)]),_:1})]),_:1},8,["to"])),[[be],[ua]])}var Ua=x(Na,[["render",Fa]]);const ja=ca({name:"MainLayout",components:{AppMenu:Aa,SubscriptionWarning:xa,OtherActions:Ua},setup(){const e=Le(),c=`${ga()}images/bg/wp-4.jpg`,n=_("");function s(){G.value==="dark"?n.value="bg-grey-10":n.value="bg-blue"}R(s),R(da),b(G,s);const o=_(!1),v=()=>{o.value=!1};return{logout(){e.cookies.remove(j.cookieName,{path:"/"}),e.cookies.remove(j.userType,{path:"/"}),localStorage.removeItem("class"),localStorage.removeItem("date"),localStorage.removeItem("grade_id"),localStorage.removeItem("lesson"),window.location.reload()},drawer:_(!1),userAction:o,hideUserAction:v,avatarBg:c,header:n,pengguna:va,menuWidth:fa}}}),Ra={class:"absolute-bottom bg-transparent"},Ea=z("img",{src:"boy-avatar.png"},null,-1),Ja={class:"text-weight-bold"},Ka={class:"mobile-hide"},Xa={class:"mobile-only"};function Ya(e,c,n,s,o,v){const h=H("other-actions"),g=H("app-menu"),I=H("subscription-warning"),A=H("router-view");return $(),S(ya,{view:"lHh Lpr lFf"},{default:d(()=>[l(qa,{elevated:"",class:ma(e.header)},{default:d(()=>[l($a,null,{default:d(()=>[l(qe,{flat:"",onClick:c[0]||(c[0]=t=>e.drawer=!e.drawer),round:"",dense:"",icon:"menu"}),l(wa,null,{default:d(()=>[J("Actudent-v2 (Build "+C(e.$buildVersion)+")",1)]),_:1}),l(qe,{flat:"",round:"",dense:"",icon:"account_circle"},{default:d(()=>[l(ba,null,{default:d(()=>[l(Me,{separator:""},{default:d(()=>[l(h,{icon:"o_manage_accounts",label:e.$t("navbar_profil")},null,8,["label"]),l(h,{icon:"logout",label:e.$t("navbar_keluar"),onClick:e.logout},null,8,["label","onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"]),l(Ca,{modelValue:e.drawer,"onUpdate:modelValue":c[1]||(c[1]=t=>e.drawer=t),"show-if-above":"",width:e.menuWidth(),breakpoint:450},{default:d(()=>[l(g),l(ka,{class:"absolute-top",src:e.avatarBg,style:{height:"150px"}},{default:d(()=>[z("div",Ra,[l(ha,{size:"56px",class:"q-mb-sm"},{default:d(()=>[Ea]),_:1}),z("div",Ja,C(e.pengguna.user_name),1),z("div",Ka,C(e.$trim(e.pengguna.user_email,25)),1),z("div",Xa,C(e.$trim(e.pengguna.user_email,30)),1)])]),_:1},8,["src"])]),_:1},8,["modelValue","width"]),l(pa,null,{default:d(()=>[l(I),l(A)]),_:1})]),_:1})}var lt=x(ja,[["render",Ya]]);export{lt as default};
