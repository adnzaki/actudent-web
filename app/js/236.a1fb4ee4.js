"use strict";(self["webpackChunkactudent_v2"]=self["webpackChunkactudent_v2"]||[]).push([[236],{5236:(e,a,t)=>{t.r(a),t.d(a,{default:()=>ne});var n=t(3673),l=t(2323);const o={class:"absolute-bottom bg-transparent"},i=(0,n._)("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),s={class:"text-weight-bold"};function u(e,a,t,u,r,c){const d=(0,n.up)("q-btn"),m=(0,n.up)("q-toolbar-title"),p=(0,n.up)("toggle-mode"),g=(0,n.up)("q-icon"),w=(0,n.up)("q-item-section"),b=(0,n.up)("q-item"),_=(0,n.up)("q-list"),k=(0,n.up)("q-menu"),v=(0,n.up)("q-toolbar"),h=(0,n.up)("q-header"),f=(0,n.up)("app-menu"),q=(0,n.up)("q-avatar"),W=(0,n.up)("q-img"),Z=(0,n.up)("q-drawer"),y=(0,n.up)("subscription-warning"),Q=(0,n.up)("router-view"),x=(0,n.up)("q-page-container"),H=(0,n.up)("q-layout"),C=(0,n.Q2)("ripple"),T=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(H,{view:"lHh Lpr lFf"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{elevated:"",class:(0,l.C_)(e.header)},{default:(0,n.w5)((()=>[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{flat:"",onClick:a[0]||(a[0]=a=>e.drawer=!e.drawer),round:"",dense:"",icon:"menu"}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Actudent-v2 (Build "+(0,l.zw)(e.buildVersion)+")",1)])),_:1}),(0,n.Wm)(p),(0,n.Wm)(d,{flat:"",round:"",dense:"",icon:"account_circle"},{default:(0,n.w5)((()=>[(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{separator:""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.otherActions,((e,a)=>(0,n.wy)(((0,n.wg)(),(0,n.j4)(b,{key:a,clickable:"",class:"q-pr-xl",to:e.link,onClick:a=>e.action()},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{name:e.icon},null,8,["name"])])),_:2},1024),(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["to","onClick"])),[[C],[T]]))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["class"]),(0,n.Wm)(Z,{modelValue:e.drawer,"onUpdate:modelValue":a[1]||(a[1]=a=>e.drawer=a),"show-if-above":"",width:e.menuWidth(),breakpoint:400},{default:(0,n.w5)((()=>[(0,n.Wm)(f),(0,n.Wm)(W,{class:"absolute-top",src:e.avatarBg,style:{height:"150px"}},{default:(0,n.w5)((()=>[(0,n._)("div",o,[(0,n.Wm)(q,{size:"56px",class:"q-mb-sm"},{default:(0,n.w5)((()=>[i])),_:1}),(0,n._)("div",s,(0,l.zw)(e.pengguna.user_name),1),(0,n._)("div",null,(0,l.zw)(e.pengguna.user_email),1)])])),_:1},8,["src"])])),_:1},8,["modelValue","width"]),(0,n.Wm)(x,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y),(0,n.Wm)(Q)])),_:1})])),_:1})}var r=t(1959),c=t(8470),d=t(9254);function m(e,a,t,o,i,s){const u=(0,n.up)("q-tooltip"),r=(0,n.up)("q-btn");return(0,n.wg)(),(0,n.j4)(r,{flat:"",round:"",dense:"",icon:"brightness_4",onClick:o.toggleMode},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"bg-accent"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("pindah_mode")),1)])),_:1})])),_:1},8,["onClick"])}var p=t(8825),g=t(6891);const w={name:"ToggleMode",setup(){const e=(0,p.Z)();let a="light";const t=()=>{e.dark.toggle(),a=e.dark.isActive?"dark":"light",e.cookies.set("theme",a,{expires:10,secure:!0}),(0,g.dO)()};return{toggleMode:t}}};var b=t(4260),_=t(2165),k=t(8870),v=t(7518),h=t.n(v);const f=(0,b.Z)(w,[["render",m],["__scopeId","data-v-31005b19"]]),q=f;function W(e,a,t,o,i,s){const u=(0,n.up)("q-icon"),r=(0,n.up)("q-item-section"),c=(0,n.up)("q-item"),d=(0,n.up)("q-expansion-item"),m=(0,n.up)("q-list"),p=(0,n.up)("q-scroll-area"),g=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.j4)(p,{style:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{padding:""},{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(c,{clickable:"",to:o.dashboardLink,"active-class":o.activeClass},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{name:"o_home"})])),_:1}),(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("menu_dashboard")),1)])),_:1})])),_:1},8,["to","active-class"])),[[g]]),"1"===e.$q.cookies.get(o.conf.userType)?((0,n.wg)(),(0,n.j4)(d,{key:0,"expand-separator":"",icon:"o_inventory_2",label:"Data"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.masterMenu,((e,a)=>(0,n.wy)(((0,n.wg)(),(0,n.j4)(c,{"active-class":o.activeClass,key:a,clickable:"","inset-level":1,to:e.link},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["active-class","to"])),[[g]]))),128))])),_:1})):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.menus[e.$q.cookies.get(o.conf.userType)],((e,a)=>(0,n.wy)(((0,n.wg)(),(0,n.j4)(c,{"active-class":o.activeClass,key:a,clickable:"",to:e.link},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{name:e.icon},null,8,["name"])])),_:2},1024),(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["active-class","to"])),[[g]]))),128)),(0,n.Wm)(d,{"expand-separator":"",icon:"o_settings",label:e.$t("menu_pengaturan")},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.settings,((e,a)=>(0,n.wy)(((0,n.wg)(),(0,n.j4)(c,{"active-class":o.activeClass,key:a,clickable:"","inset-level":1,to:e.link},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["active-class","to"])),[[g]]))),128))])),_:1},8,["label"])])),_:1})])),_:1})}h()(w,"components",{QBtn:_.Z,QTooltip:k.Z});var Z=t(5948);const y={name:"AppMenu",setup(){const{t:e}=(0,Z.QT)(),a=(0,p.Z)(),t=(0,r.iH)(""),l=(0,r.iH)([]),o=(0,r.iH)([]),i=(0,r.iH)([]),s=(0,r.iH)({}),u=(0,r.iH)([]),c="1"===a.cookies.get(d.aK.userType)?"/home":"/teacher/home";function m(){"dark"===g.dM.value?t.value="bg-blue-grey-8 text-grey-3":t.value="bg-teal-1 text-grey-8"}return(0,n.YP)(g.dM,m),(0,n.bv)((()=>{m(),setTimeout((()=>{l.value=[{label:e("menu_parent"),link:"/parent"},{label:e("menu_siswa"),link:"/student"},{label:e("menu_pegawai"),link:"/employee"},{label:e("menu_kelas"),link:"/class"},{label:e("menu_ruang"),link:"/rooms"},{label:e("menu_mapel"),link:"/lesson"}],o.value=[{link:"/schedules",icon:"list",label:e("menu_jadwal")},{link:"/presence",icon:"task_alt",label:e("menu_kehadiran")},{link:"",icon:"today",label:e("menu_agenda")},{link:"",icon:"restore",label:e("menu_timeline")},{link:"",icon:"o_forum",label:e("menu_pesan")}],i.value=[{link:"/teacher/presence",icon:"o_book",label:e("menu_jadwal_guru")},{link:"",icon:"today",label:e("menu_agenda")},{link:"",icon:"restore",label:e("menu_timeline")},{link:"",icon:"o_forum",label:e("menu_pesan")}],s.value={1:o.value,2:i.value},u.value=[{label:e("menu_aplikasi"),link:""},{label:e("menu_feedback"),link:""}],"1"===a.cookies.get(d.aK.userType)&&u.value.unshift({label:e("menu_pengguna"),link:""})}),2e3)})),{dashboardLink:c,activeClass:t,masterMenu:l,menus:s,settings:u,conf:d.aK}}};var Q=t(7704),x=t(7011),H=t(3414),C=t(2035),T=t(4554),z=t(4615),M=t(6489);const j=(0,b.Z)(y,[["render",W]]),A=j;h()(y,"components",{QScrollArea:Q.Z,QList:x.Z,QItem:H.Z,QItemSection:C.Z,QIcon:T.Z,QExpansionItem:z.Z}),h()(y,"directives",{Ripple:M.Z});const $={key:0,class:"q-px-md q-pt-md q-gutter-sm"},U={class:"q-mt-md"};function K(e,a,t,o,i,s){const u=(0,n.up)("q-banner");return o.subs.left<=7?((0,n.wg)(),(0,n.iD)("div",$,[(0,n.Wm)(u,{rounded:"",dense:"","inline-actions":"",class:"bg-negative text-white"},{default:(0,n.w5)((()=>[(0,n._)("p",U,[(0,n._)("strong",null,(0,l.zw)(e.$t("peringatan")),1),(0,n.Uk)(" "+(0,l.zw)(o.subs.text)+" "+(0,l.zw)(o.subs.date)+". ",1)])])),_:1})])):(0,n.kq)("",!0)}var I=t(5474),L=t(3680);const D={name:"SubscriptionWarning",setup(){const e=(0,r.iH)({});return(0,n.bv)((()=>{I.core.get("get-subscription-warning",{headers:{Authorization:L.a1}}).then((a=>{e.value=a.data})).catch((e=>console.log(e)))})),{subs:e}}};var B=t(5607);const Y=(0,b.Z)(D,[["render",K]]),S=Y;h()(D,"components",{QBanner:B.Z});var P=t(6573);const V=(0,n.aZ)({name:"MainLayout",data(){return{otherActions:[]}},provide(){return{textLang:(0,n.Fl)((()=>this.lang))}},mounted(){setTimeout((()=>{setTimeout((()=>{this.otherActions=[{link:"",icon:"o_manage_accounts",label:this.$t("navbar_profil"),action:()=>{}},{link:"",icon:"o_school",label:this.$t("navbar_sekolah"),action:()=>{}},{link:"",icon:"logout",label:this.$t("navbar_keluar"),action:()=>this.logout()}]}),1e3)}),1e3)},components:{ToggleMode:q,AppMenu:A,SubscriptionWarning:S},methods:{logout(){this.$q.cookies.remove(d.aK.cookieName),this.$q.cookies.remove(d.aK.userType),window.location.href=d.aK.loginUrl()}},setup(){const e=`${(0,c.FH)()}images/bg/wp-4.jpg`,a=(0,r.iH)("");function t(){"dark"===g.dM.value?a.value="bg-grey-10":a.value="bg-blue"}(0,n.bv)(t),(0,n.bv)(d.yp),(0,n.YP)(g.dM,t);const l=(0,r.iH)(!1),o=()=>{l.value=!1};return{drawer:(0,r.iH)(!1),userAction:l,hideUserAction:o,avatarBg:e,header:a,pengguna:d.lX,menuWidth:P.h7}}});var F=t(9214),R=t(3812),E=t(9570),N=t(3747),O=t(811),X=t(2901),G=t(4027),J=t(5096),ee=t(2652),ae=t(677);const te=(0,b.Z)(V,[["render",u]]),ne=te;h()(V,"components",{QLayout:F.Z,QHeader:R.Z,QToolbar:E.Z,QBtn:_.Z,QToolbarTitle:N.Z,QMenu:O.Z,QList:x.Z,QItem:H.Z,QItemSection:C.Z,QIcon:T.Z,QDrawer:X.Z,QImg:G.Z,QAvatar:J.Z,QPageContainer:ee.Z}),h()(V,"directives",{Ripple:M.Z,ClosePopup:ae.Z})}}]);