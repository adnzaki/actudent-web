(globalThis["webpackChunkactudent_v2"]=globalThis["webpackChunkactudent_v2"]||[]).push([[137],{3137:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>pe});var t=l(3673),n=l(2323),o=l(8397),i=l.n(o);const s=(0,t._)("strong",null,"SiAbsen",-1),u=(0,t.Uk)(" | SMKN 11 Kota Bekasi"),r=(0,t._)("strong",null,"SiAbsen",-1),c=(0,t.Uk)(" |"),m={class:"absolute-bottom bg-transparent"},d=(0,t._)("img",{src:i()},null,-1),p={class:"text-weight-bold"},g={class:"mobile-hide"},b={class:"mobile-only"};function k(e,a,l,o,i,k){const _=(0,t.up)("q-btn"),w=(0,t.up)("q-toolbar-title"),v=(0,t.up)("toggle-mode"),h=(0,t.up)("q-icon"),f=(0,t.up)("q-item-section"),y=(0,t.up)("q-item"),q=(0,t.up)("q-list"),W=(0,t.up)("q-menu"),Z=(0,t.up)("q-toolbar"),Q=(0,t.up)("q-header"),H=(0,t.up)("app-menu"),T=(0,t.up)("q-avatar"),$=(0,t.up)("q-img"),x=(0,t.up)("q-drawer"),z=(0,t.up)("subscription-warning"),C=(0,t.up)("router-view"),j=(0,t.up)("q-page-container"),A=(0,t.up)("q-layout"),M=(0,t.Q2)("ripple"),S=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(A,{view:"lHh Lpr lFf"},{default:(0,t.w5)((()=>[(0,t.Wm)(Q,{elevated:"",class:(0,n.C_)(e.header)},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[(0,t.Wm)(_,{flat:"",onClick:a[0]||(a[0]=a=>e.drawer=!e.drawer),round:"",dense:"",icon:"menu"}),(0,t.Wm)(w,{class:"mobile-hide"},{default:(0,t.w5)((()=>[s,u])),_:1}),(0,t.Wm)(w,{class:"mobile-only"},{default:(0,t.w5)((()=>[r,c])),_:1}),(0,t.Wm)(v),(0,t.Wm)(_,{flat:"",round:"",dense:"",icon:"account_circle"},{default:(0,t.w5)((()=>[(0,t.Wm)(W,null,{default:(0,t.w5)((()=>[(0,t.Wm)(q,{separator:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.otherActions,((e,a)=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(y,{key:a,clickable:"",class:"q-pr-xl",to:e.link,onClick:a=>e.action()},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{name:e.icon},null,8,["name"])])),_:2},1024),(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["to","onClick"])),[[M],[S]]))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["class"]),(0,t.Wm)(x,{modelValue:e.drawer,"onUpdate:modelValue":a[1]||(a[1]=a=>e.drawer=a),"show-if-above":"",width:e.menuWidth(),breakpoint:450},{default:(0,t.w5)((()=>[(0,t.Wm)(H),(0,t.Wm)($,{class:"absolute-top",src:e.avatarBg,style:{height:"150px"}},{default:(0,t.w5)((()=>[(0,t._)("div",m,[(0,t.Wm)(T,{size:"56px",class:"q-mb-sm"},{default:(0,t.w5)((()=>[d])),_:1}),(0,t._)("div",p,(0,n.zw)(e.pengguna.user_name),1),(0,t._)("div",g,(0,n.zw)(e.$trim(e.pengguna.user_email,25)),1),(0,t._)("div",b,(0,n.zw)(e.$trim(e.pengguna.user_email,30)),1)])])),_:1},8,["src"])])),_:1},8,["modelValue","width"]),(0,t.Wm)(j,null,{default:(0,t.w5)((()=>[(0,t.Wm)(z),(0,t.Wm)(C)])),_:1})])),_:1})}var _=l(1959),w=l(7901),v=l(6891),h=l(9254),f=l(6573);function y(e,a,l,o,i,s){const u=(0,t.up)("q-tooltip"),r=(0,t.up)("q-btn");return(0,t.wg)(),(0,t.j4)(r,{flat:"",round:"",dense:"",icon:"brightness_4",onClick:o.toggleMode},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{class:"bg-accent"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.$t("pindah_mode")),1)])),_:1})])),_:1},8,["onClick"])}var q=l(8825);const W={name:"ToggleMode",setup(){const e=(0,q.Z)();let a="light";const l=()=>{e.dark.toggle(),a=e.dark.isActive?"dark":"light",e.cookies.set("theme",a,{expires:10,secure:!0}),(0,v.dO)()};return{toggleMode:l}}};var Z=l(4260),Q=l(2165),H=l(8870),T=l(7518),$=l.n(T);const x=(0,Z.Z)(W,[["render",y],["__scopeId","data-v-31005b19"]]),z=x;function C(e,a,l,o,i,s){const u=(0,t.up)("q-icon"),r=(0,t.up)("q-item-section"),c=(0,t.up)("q-item"),m=(0,t.up)("q-expansion-item"),d=(0,t.up)("q-badge"),p=(0,t.up)("q-list"),g=(0,t.up)("q-scroll-area"),b=(0,t.Q2)("ripple");return(0,t.wg)(),(0,t.j4)(g,{style:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{padding:""},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(c,{clickable:"",to:o.dashboardLink,"active-class":o.activeClass},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{name:"o_home"})])),_:1}),(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.$t("menu_dashboard")),1)])),_:1})])),_:1},8,["to","active-class"])),[[b]]),"1"===e.$q.cookies.get(o.conf.userType)?((0,t.wg)(),(0,t.j4)(m,{key:0,"expand-separator":"",icon:"o_inventory_2",label:"Data"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.masterMenu,((e,a)=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(c,{"active-class":o.activeClass,key:a,clickable:"","inset-level":1,to:e.link},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["active-class","to"])),[[b]]))),128))])),_:1})):(0,t.kq)("",!0),"1"===e.$q.cookies.get(o.conf.userType)?((0,t.wg)(),(0,t.j4)(m,{key:1,"expand-separator":"",icon:"o_fact_check",label:e.$t("menu_siabsen")},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.adminSiAbsen,((a,l)=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(c,{"active-class":o.activeClass,key:l,clickable:"","inset-level":1,to:a.link},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(a.label),1)])),_:2},1024),1===l&&e.$store.state.siabsen.notifCounter>0?((0,t.wg)(),(0,t.j4)(r,{key:0,side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{label:e.$store.state.siabsen.notifCounter,color:"red",rounded:""},null,8,["label"])])),_:1})):(0,t.kq)("",!0)])),_:2},1032,["active-class","to"])),[[b]]))),128))])),_:1},8,["label"])):(0,t.kq)("",!0),"2"===e.$q.cookies.get(o.conf.userType)||"0"===e.$q.cookies.get(o.conf.userType)?((0,t.wg)(),(0,t.j4)(m,{key:2,"expand-separator":"",icon:"o_fact_check",label:e.$t("menu_siabsen_guru")},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.guruSiAbsen,((e,a)=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(c,{"active-class":o.activeClass,key:a,clickable:"","inset-level":1,to:e.link},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["active-class","to"])),[[b]]))),128))])),_:1},8,["label"])):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.menus[e.$q.cookies.get(o.conf.userType)],((e,a)=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(c,{"active-class":o.activeClass,key:a,clickable:"",to:e.link},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{name:e.icon},null,8,["name"])])),_:2},1024),(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["active-class","to"])),[[b]]))),128)),"2"===e.$q.cookies.get(o.conf.userType)&&o.isHomeroomTeacher?((0,t.wg)(),(0,t.j4)(m,{key:3,"expand-separator":"",icon:"o_summarize",label:e.$t("laporan")},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.reportMenu,((e,a)=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(c,{"active-class":o.activeClass,key:a,clickable:"","inset-level":1,to:e.link},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["active-class","to"])),[[b]]))),128))])),_:1},8,["label"])):(0,t.kq)("",!0),(0,t.Wm)(m,{"expand-separator":"",icon:"o_settings",label:e.$t("menu_pengaturan")},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.settings,((e,a)=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(c,{"active-class":o.activeClass,key:a,clickable:"","inset-level":1,to:e.link},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["active-class","to"])),[[b]]))),128))])),_:1},8,["label"])])),_:1})])),_:1})}$()(W,"components",{QBtn:Q.Z,QTooltip:H.Z});var j=l(5948),A=l(741);const M={name:"AppMenu",setup(){const{t:e}=(0,j.QT)(),a=(0,q.Z)(),l=(0,A.oR)(),n=(0,_.iH)(""),o=(0,_.iH)([]),i=(0,_.iH)([]),s=(0,_.iH)([]),u=(0,_.iH)([]),r=(0,_.iH)([]),c=(0,_.iH)([]),m=(0,_.iH)({}),d=(0,_.iH)([]),p="1"===a.cookies.get(h.aK.userType)?"/home":"/teacher/home";function g(){"dark"===v.dM.value?n.value="bg-blue-grey-8 text-grey-3":n.value="bg-teal-1 text-grey-8"}return(0,t.YP)(v.dM,g),l.commit("presence/checkHomeroomTeacher"),(0,t.bv)((()=>{g(),l.dispatch("siabsen/getPermissionNotif"),setTimeout((()=>{o.value=[{label:e("menu_parent"),link:"/parent"},{label:e("menu_siswa"),link:"/student"},{label:e("menu_pegawai"),link:"/employee"},{label:e("menu_kelas"),link:"/class"},{label:e("menu_ruang"),link:"/rooms"},{label:e("menu_mapel"),link:"/lesson"}],i.value=[{link:"/schedules",icon:"list",label:e("menu_jadwal")},{link:"/presence",icon:"task_alt",label:e("menu_kehadiran")},{link:"/agenda",icon:"today",label:e("menu_agenda")},{link:"",icon:"restore",label:""}],s.value=[{label:e("menu_manage_siabsen"),link:"/teacher-presence/manage"},{label:e("absensi_izin"),link:"/teacher-presence/permit"},{label:e("absensi_rekap_bulanan"),link:"/teacher-presence/monthly-summary"},{label:e("menu_pengaturan"),link:"/teacher-presence/config"}],u.value=[{label:e("absensi_izin"),link:"/absence/permit"},{label:e("absensi_rekap_bulanan"),link:"/absence/monthly-summary"}];const l=localStorage.getItem("grade_id");r.value=[{link:"/teacher/agenda",icon:"today",label:e("menu_agenda")},{link:"",icon:"restore",label:e("menu_timeline")}],"2"===a.cookies.get(h.aK.userType)&&r.value.unshift({link:"/teacher/presence",icon:"o_book",label:e("menu_jadwal_guru")}),c.value=[{label:e("absensi_laporan_harian"),link:"/teacher/daily-report"},{label:e("absensi_rekap_bulanan"),link:`/teacher/monthly-summary/${l}`},{label:e("absensi_rekap_semester"),link:`/teacher/period-summary/${l}`}],m.value={1:i.value,2:r.value,0:r.value},d.value=[{label:e("menu_aplikasi"),link:""},{label:e("menu_feedback"),link:""}],"1"===a.cookies.get(h.aK.userType)?(d.value.unshift({label:e("menu_pengguna"),link:""}),i.value[3].label=e("menu_post")):i.value[3].label=e("menu_timeline")}),2e3)})),{isHomeroomTeacher:(0,t.Fl)((()=>l.state.presence.isHomeroomTeacher)),dashboardLink:p,activeClass:n,masterMenu:o,reportMenu:c,menus:m,adminSiAbsen:s,guruSiAbsen:u,settings:d,conf:h.aK}}};var S=l(7704),K=l(7011),U=l(3414),I=l(2035),D=l(4554),Y=l(429),L=l(9721),B=l(6489);const P=(0,Z.Z)(M,[["render",C]]),F=P;$()(M,"components",{QScrollArea:S.Z,QList:K.Z,QItem:U.Z,QItemSection:I.Z,QIcon:D.Z,QExpansionItem:Y.Z,QBadge:L.Z}),$()(M,"directives",{Ripple:B.Z});const N={key:0,class:"q-px-md q-pt-md q-gutter-sm"},R={class:"q-mt-md"};function V(e,a,l,o,i,s){const u=(0,t.up)("q-banner");return o.subs.left<=7?((0,t.wg)(),(0,t.iD)("div",N,[(0,t.Wm)(u,{rounded:"",dense:"","inline-actions":"",class:"bg-negative text-white"},{default:(0,t.w5)((()=>[(0,t._)("p",R,[(0,t._)("strong",null,(0,n.zw)(e.$t("peringatan")),1),(0,t.Uk)(" "+(0,n.zw)(o.subs.text)+" "+(0,n.zw)(o.subs.date)+". ",1)])])),_:1})])):(0,t.kq)("",!0)}var E=l(5474),O=l(3680);const X={name:"SubscriptionWarning",setup(){const e=(0,_.iH)({});return(0,t.bv)((()=>{E.core.get("get-subscription-warning",{headers:{Authorization:O.a1}}).then((a=>{e.value=a.data})).catch((e=>console.log(e)))})),{subs:e}}};var G=l(5607);const J=(0,Z.Z)(X,[["render",V]]),ee=J;$()(X,"components",{QBanner:G.Z});const ae=(0,t.aZ)({name:"MainLayout",data(){return{otherActions:[]}},provide(){return{textLang:(0,t.Fl)((()=>this.lang))}},mounted(){setTimeout((()=>{setTimeout((()=>{this.otherActions=[{link:"",icon:"o_manage_accounts",label:this.$t("navbar_profil"),action:()=>{}},{link:"",icon:"o_school",label:this.$t("navbar_sekolah"),action:()=>{}},{link:"",icon:"logout",label:this.$t("navbar_keluar"),action:()=>this.logout()}]}),1e3)}),1e3)},components:{ToggleMode:z,AppMenu:F,SubscriptionWarning:ee},methods:{logout(){this.$q.cookies.remove(h.aK.cookieName),this.$q.cookies.remove(h.aK.userType),localStorage.removeItem("class"),localStorage.removeItem("date"),localStorage.removeItem("grade_id"),localStorage.removeItem("lesson"),window.location.href=h.aK.loginUrl()}},setup(){const e=`${(0,w.FH)()}images/bg/wp-4.jpg`,a=(0,_.iH)("");function l(){"dark"===v.dM.value?a.value="bg-grey-10":a.value="bg-blue"}(0,t.bv)(l),(0,t.bv)(h.yp),(0,t.YP)(v.dM,l);const n=(0,_.iH)(!1),o=()=>{n.value=!1};return{drawer:(0,_.iH)(!1),userAction:n,hideUserAction:o,avatarBg:e,header:a,pengguna:h.lX,menuWidth:f.h7}}});var le=l(9214),te=l(3812),ne=l(9570),oe=l(3747),ie=l(811),se=l(2901),ue=l(4027),re=l(5096),ce=l(2652),me=l(677);const de=(0,Z.Z)(ae,[["render",k]]),pe=de;$()(ae,"components",{QLayout:le.Z,QHeader:te.Z,QToolbar:ne.Z,QBtn:Q.Z,QToolbarTitle:oe.Z,QMenu:ie.Z,QList:K.Z,QItem:U.Z,QItemSection:I.Z,QIcon:D.Z,QDrawer:se.Z,QImg:ue.Z,QAvatar:re.Z,QPageContainer:ce.Z}),$()(ae,"directives",{Ripple:B.Z,ClosePopup:me.Z})},8397:(e,a,l)=>{e.exports=l.p+"img/boy-avatar.5ea4736c.png"}}]);