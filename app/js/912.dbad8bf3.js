(self["webpackChunkactudent_v2"]=self["webpackChunkactudent_v2"]||[]).push([[912],{2912:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>ie});var l=t(3673),n=t(2323),o=t(8397),i=t.n(o);const s={class:"absolute-bottom bg-transparent"},u=(0,l._)("img",{src:i()},null,-1),r={class:"text-weight-bold"};function c(e,a,t,o,i,c){const m=(0,l.up)("q-btn"),d=(0,l.up)("q-toolbar-title"),p=(0,l.up)("toggle-mode"),g=(0,l.up)("q-icon"),w=(0,l.up)("q-item-section"),b=(0,l.up)("q-item"),k=(0,l.up)("q-list"),_=(0,l.up)("q-menu"),v=(0,l.up)("q-toolbar"),h=(0,l.up)("q-header"),f=(0,l.up)("app-menu"),y=(0,l.up)("q-avatar"),q=(0,l.up)("q-img"),W=(0,l.up)("q-drawer"),Z=(0,l.up)("subscription-warning"),Q=(0,l.up)("router-view"),H=(0,l.up)("q-page-container"),x=(0,l.up)("q-layout"),T=(0,l.Q2)("ripple"),$=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(x,{view:"lHh Lpr lFf"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{elevated:"",class:(0,n.C_)(e.header)},{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{flat:"",onClick:a[0]||(a[0]=a=>e.drawer=!e.drawer),round:"",dense:"",icon:"menu"}),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Uk)("Actudent-v2 (Build "+(0,n.zw)(e.$buildVersion)+")",1)])),_:1}),(0,l.Wm)(p),(0,l.Wm)(m,{flat:"",round:"",dense:"",icon:"account_circle"},{default:(0,l.w5)((()=>[(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k,{separator:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.otherActions,((e,a)=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(b,{key:a,clickable:"",class:"q-pr-xl",to:e.link,onClick:a=>e.action()},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{name:e.icon},null,8,["name"])])),_:2},1024),(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["to","onClick"])),[[T],[$]]))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["class"]),(0,l.Wm)(W,{modelValue:e.drawer,"onUpdate:modelValue":a[1]||(a[1]=a=>e.drawer=a),"show-if-above":"",width:e.menuWidth(),breakpoint:400},{default:(0,l.w5)((()=>[(0,l.Wm)(f),(0,l.Wm)(q,{class:"absolute-top",src:e.avatarBg,style:{height:"150px"}},{default:(0,l.w5)((()=>[(0,l._)("div",s,[(0,l.Wm)(y,{size:"56px",class:"q-mb-sm"},{default:(0,l.w5)((()=>[u])),_:1}),(0,l._)("div",r,(0,n.zw)(e.pengguna.user_name),1),(0,l._)("div",null,(0,n.zw)(e.pengguna.user_email),1)])])),_:1},8,["src"])])),_:1},8,["modelValue","width"]),(0,l.Wm)(H,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Z),(0,l.Wm)(Q)])),_:1})])),_:1})}var m=t(1959),d=t(8470),p=t(6891),g=t(9254),w=t(6573);function b(e,a,t,o,i,s){const u=(0,l.up)("q-tooltip"),r=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.j4)(r,{flat:"",round:"",dense:"",icon:"brightness_4",onClick:o.toggleMode},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"bg-accent"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.$t("pindah_mode")),1)])),_:1})])),_:1},8,["onClick"])}var k=t(8825);const _={name:"ToggleMode",setup(){const e=(0,k.Z)();let a="light";const t=()=>{e.dark.toggle(),a=e.dark.isActive?"dark":"light",e.cookies.set("theme",a,{expires:10,secure:!0}),(0,p.dO)()};return{toggleMode:t}}};var v=t(4260),h=t(2165),f=t(8870),y=t(7518),q=t.n(y);const W=(0,v.Z)(_,[["render",b],["__scopeId","data-v-31005b19"]]),Z=W;function Q(e,a,t,o,i,s){const u=(0,l.up)("q-icon"),r=(0,l.up)("q-item-section"),c=(0,l.up)("q-item"),m=(0,l.up)("q-expansion-item"),d=(0,l.up)("q-list"),p=(0,l.up)("q-scroll-area"),g=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.j4)(p,{style:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{padding:""},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(c,{clickable:"",to:o.dashboardLink,"active-class":o.activeClass},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"o_home"})])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.$t("menu_dashboard")),1)])),_:1})])),_:1},8,["to","active-class"])),[[g]]),"1"===e.$q.cookies.get(o.conf.userType)?((0,l.wg)(),(0,l.j4)(m,{key:0,"expand-separator":"",icon:"o_inventory_2",label:"Data"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.masterMenu,((e,a)=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(c,{"active-class":o.activeClass,key:a,clickable:"","inset-level":1,to:e.link},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["active-class","to"])),[[g]]))),128))])),_:1})):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.menus[e.$q.cookies.get(o.conf.userType)],((e,a)=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(c,{"active-class":o.activeClass,key:a,clickable:"",to:e.link},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{name:e.icon},null,8,["name"])])),_:2},1024),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["active-class","to"])),[[g]]))),128)),"2"===e.$q.cookies.get(o.conf.userType)&&o.isHomeroomTeacher?((0,l.wg)(),(0,l.j4)(m,{key:1,"expand-separator":"",icon:"o_summarize",label:e.$t("laporan")},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.reportMenu,((e,a)=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(c,{"active-class":o.activeClass,key:a,clickable:"","inset-level":1,to:e.link},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["active-class","to"])),[[g]]))),128))])),_:1},8,["label"])):(0,l.kq)("",!0),(0,l.Wm)(m,{"expand-separator":"",icon:"o_settings",label:e.$t("menu_pengaturan")},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.settings,((e,a)=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(c,{"active-class":o.activeClass,key:a,clickable:"","inset-level":1,to:e.link},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["active-class","to"])),[[g]]))),128))])),_:1},8,["label"])])),_:1})])),_:1})}q()(_,"components",{QBtn:h.Z,QTooltip:f.Z});var H=t(5948),x=t(3617);const T={name:"AppMenu",setup(){const{t:e}=(0,H.QT)(),a=(0,k.Z)(),t=(0,x.oR)(),n=(0,m.iH)(""),o=(0,m.iH)([]),i=(0,m.iH)([]),s=(0,m.iH)([]),u=(0,m.iH)([]),r=(0,m.iH)({}),c=(0,m.iH)([]),d="1"===a.cookies.get(g.aK.userType)?"/home":"/teacher/home";function w(){"dark"===p.dM.value?n.value="bg-blue-grey-8 text-grey-3":n.value="bg-teal-1 text-grey-8"}return(0,l.YP)(p.dM,w),t.commit("presence/checkHomeroomTeacher"),(0,l.bv)((()=>{w(),setTimeout((()=>{o.value=[{label:e("menu_parent"),link:"/parent"},{label:e("menu_siswa"),link:"/student"},{label:e("menu_pegawai"),link:"/employee"},{label:e("menu_kelas"),link:"/class"},{label:e("menu_ruang"),link:"/rooms"},{label:e("menu_mapel"),link:"/lesson"}],i.value=[{link:"/schedules",icon:"list",label:e("menu_jadwal")},{link:"/presence",icon:"task_alt",label:e("menu_kehadiran")},{link:"/agenda",icon:"today",label:e("menu_agenda")},{link:"",icon:"restore",label:e("menu_timeline")}];const t=localStorage.getItem("grade_id");s.value=[{link:"/teacher/presence",icon:"o_book",label:e("menu_jadwal_guru")},{link:"/teacher/agenda",icon:"today",label:e("menu_agenda")},{link:"",icon:"restore",label:e("menu_timeline")}],u.value=[{label:e("absensi_laporan_harian"),link:"/teacher/daily-report"},{label:e("absensi_rekap_bulanan"),link:`/teacher/monthly-summary/${t}`},{label:e("absensi_rekap_semester"),link:`/teacher/period-summary/${t}`}],r.value={1:i.value,2:s.value},c.value=[{label:e("menu_aplikasi"),link:""},{label:e("menu_feedback"),link:""}],"1"===a.cookies.get(g.aK.userType)&&c.value.unshift({label:e("menu_pengguna"),link:""})}),2e3)})),{isHomeroomTeacher:(0,l.Fl)((()=>t.state.presence.isHomeroomTeacher)),dashboardLink:d,activeClass:n,masterMenu:o,reportMenu:u,menus:r,settings:c,conf:g.aK}}};var $=t(7704),z=t(7011),C=t(3414),M=t(2035),j=t(4554),I=t(4615),A=t(6489);const U=(0,v.Z)(T,[["render",Q]]),K=U;q()(T,"components",{QScrollArea:$.Z,QList:z.Z,QItem:C.Z,QItemSection:M.Z,QIcon:j.Z,QExpansionItem:I.Z}),q()(T,"directives",{Ripple:A.Z});const S={key:0,class:"q-px-md q-pt-md q-gutter-sm"},D={class:"q-mt-md"};function L(e,a,t,o,i,s){const u=(0,l.up)("q-banner");return o.subs.left<=7?((0,l.wg)(),(0,l.iD)("div",S,[(0,l.Wm)(u,{rounded:"",dense:"","inline-actions":"",class:"bg-negative text-white"},{default:(0,l.w5)((()=>[(0,l._)("p",D,[(0,l._)("strong",null,(0,n.zw)(e.$t("peringatan")),1),(0,l.Uk)(" "+(0,n.zw)(o.subs.text)+" "+(0,n.zw)(o.subs.date)+". ",1)])])),_:1})])):(0,l.kq)("",!0)}var Y=t(5474),B=t(3680);const F={name:"SubscriptionWarning",setup(){const e=(0,m.iH)({});return(0,l.bv)((()=>{Y.core.get("get-subscription-warning",{headers:{Authorization:B.a1}}).then((a=>{e.value=a.data})).catch((e=>console.log(e)))})),{subs:e}}};var P=t(5607);const V=(0,v.Z)(F,[["render",L]]),R=V;q()(F,"components",{QBanner:P.Z});const E=(0,l.aZ)({name:"MainLayout",data(){return{otherActions:[]}},provide(){return{textLang:(0,l.Fl)((()=>this.lang))}},mounted(){setTimeout((()=>{setTimeout((()=>{this.otherActions=[{link:"",icon:"o_manage_accounts",label:this.$t("navbar_profil"),action:()=>{}},{link:"",icon:"o_school",label:this.$t("navbar_sekolah"),action:()=>{}},{link:"",icon:"logout",label:this.$t("navbar_keluar"),action:()=>this.logout()}]}),1e3)}),1e3)},components:{ToggleMode:Z,AppMenu:K,SubscriptionWarning:R},methods:{logout(){this.$q.cookies.remove(g.aK.cookieName),this.$q.cookies.remove(g.aK.userType),localStorage.removeItem("class"),localStorage.removeItem("date"),localStorage.removeItem("grade_id"),localStorage.removeItem("lesson"),window.location.href=g.aK.loginUrl()}},setup(){const e=`${(0,d.FH)()}images/bg/wp-4.jpg`,a=(0,m.iH)("");function t(){"dark"===p.dM.value?a.value="bg-grey-10":a.value="bg-blue"}(0,l.bv)(t),(0,l.bv)(g.yp),(0,l.YP)(p.dM,t);const n=(0,m.iH)(!1),o=()=>{n.value=!1};return{drawer:(0,m.iH)(!1),userAction:n,hideUserAction:o,avatarBg:e,header:a,pengguna:g.lX,menuWidth:w.h7}}});var N=t(9214),O=t(3812),X=t(9570),G=t(3747),J=t(811),ee=t(2901),ae=t(4027),te=t(5096),le=t(2652),ne=t(677);const oe=(0,v.Z)(E,[["render",c]]),ie=oe;q()(E,"components",{QLayout:N.Z,QHeader:O.Z,QToolbar:X.Z,QBtn:h.Z,QToolbarTitle:G.Z,QMenu:J.Z,QList:z.Z,QItem:C.Z,QItemSection:M.Z,QIcon:j.Z,QDrawer:ee.Z,QImg:ae.Z,QAvatar:te.Z,QPageContainer:le.Z}),q()(E,"directives",{Ripple:A.Z,ClosePopup:ne.Z})},8397:(e,a,t)=>{e.exports=t.p+"img/boy-avatar.5ea4736c.png"}}]);